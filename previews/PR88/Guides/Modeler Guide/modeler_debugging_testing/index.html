<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Debugging and Testing · Macro</title><meta name="title" content="Debugging and Testing · Macro"/><meta property="og:title" content="Debugging and Testing · Macro"/><meta property="twitter:title" content="Debugging and Testing · Macro"/><meta name="description" content="Documentation for Macro."/><meta property="og:description" content="Documentation for Macro."/><meta property="twitter:description" content="Documentation for Macro."/><meta property="og:url" content="https://macroenergy.github.io/Macro/stable/Guides/Modeler Guide/modeler_debugging_testing/"/><meta property="twitter:url" content="https://macroenergy.github.io/Macro/stable/Guides/Modeler Guide/modeler_debugging_testing/"/><link rel="canonical" href="https://macroenergy.github.io/Macro/stable/Guides/Modeler Guide/modeler_debugging_testing/"/><script data-outdated-warner src="../../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../../assets/documenter.js"></script><script src="../../../search_index.js"></script><script src="../../../siteinfo.js"></script><script src="../../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../../">Macro</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><input class="collapse-toggle" id="menuitem-1" type="checkbox"/><label class="tocitem" for="menuitem-1"><span class="docs-label">Welcome to Macro</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../">Introduction</a></li><li><a class="tocitem" href="../../../table_of_contents/">Table of contents</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Getting Started</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../Getting Started/1_overview/">Overview</a></li><li><a class="tocitem" href="../../../Getting Started/2_installation/">Installation</a></li><li><a class="tocitem" href="../../../Getting Started/4_macro_repo_contents/">What&#39;s Included With Macro</a></li><li><a class="tocitem" href="../../../Getting Started/3_first_run/">First Run</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../Tutorials/tutorials_introduction/">Introduction</a></li><li><a class="tocitem" href="../../../Tutorials/0_getting_started/">Getting Started</a></li><li><a class="tocitem" href="../../../Tutorials/1_running_macro/">Running Macro</a></li><li><a class="tocitem" href="../../../Tutorials/2_multisector_modelling/">Multisector Modelling</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox" checked/><label class="tocitem" for="menuitem-4"><span class="docs-label">Guides</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../guides_introduction/">Introduction</a></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">User Guide</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../User Guide/user_build_system/">Create a System</a></li><li><a class="tocitem" href="../../User Guide/user_add_commodity/">Adding Commodities</a></li><li><a class="tocitem" href="../../User Guide/user_add_node/">Adding Nodes</a></li><li><a class="tocitem" href="../../User Guide/user_add_location/">Adding Locations</a></li><li><a class="tocitem" href="../../User Guide/user_add_asset/">Adding Assets</a></li><li><a class="tocitem" href="../../User Guide/user_policy_constraints/">Adding Policy constraints</a></li><li><a class="tocitem" href="../../User Guide/user_asset_constraints/">Adding Assets constraints</a></li><li><a class="tocitem" href="../../User Guide/user_settings/">Configuring Settings</a></li><li><a class="tocitem" href="../../User Guide/user_run_model/">Running Models</a></li><li><a class="tocitem" href="../../User Guide/user_write_results/">Writing Results</a></li><li><a class="tocitem" href="../../User Guide/user_multistage/">Using Multi-Stage Models</a></li><li><a class="tocitem" href="../../User Guide/user_using_asset_libary/">Exploring the Asset library</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox" checked/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">Modeler Guide</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../modeler_introduction/">Introduction</a></li><li><a class="tocitem" href="../modeler_es_graph/">Energy System Graph-Based Representation</a></li><li><a class="tocitem" href="../modeler_build_sectors/">Creating a New Sector</a></li><li><a class="tocitem" href="../modeler_build_asset/">Creating a New Asset</a></li><li><a class="tocitem" href="../modeler_create_example_case/">Creating a New Example Case</a></li><li><a class="tocitem" href="../modeler_workflow/">Suggested Development Workflow</a></li><li class="is-active"><a class="tocitem" href>Debugging and Testing</a><ul class="internal"><li><a class="tocitem" href="#Working-with-a-System"><span>Working with a System</span></a></li><li><a class="tocitem" href="#Model-Generation-and-Running"><span>Model Generation and Running</span></a></li><li><a class="tocitem" href="#Working-with-Nodes-in-a-System"><span>Working with Nodes in a System</span></a></li><li><a class="tocitem" href="#Working-with-Assets"><span>Working with Assets</span></a></li><li><a class="tocitem" href="#Working-with-Edges"><span>Working with Edges</span></a></li><li><a class="tocitem" href="#Working-with-Transformations"><span>Working with Transformations</span></a></li><li><a class="tocitem" href="#Working-with-Storages"><span>Working with Storages</span></a></li><li><a class="tocitem" href="#Time-Management"><span>Time Management</span></a></li><li><a class="tocitem" href="#Results-Collection"><span>Results Collection</span></a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-4" type="checkbox"/><label class="tocitem" for="menuitem-4-4"><span class="docs-label">Developer Guide</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Developer Guide/dev_create_constraint/">Creating a Constraint</a></li><li><a class="tocitem" href="../../Developer Guide/2_type_hierarchy/">Type Hierarchy</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox"/><label class="tocitem" for="menuitem-5"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../Manual/manual_introduction/">Introduction</a></li><li><a class="tocitem" href="../../../Manual/Inputs/">Inputs</a></li><li><a class="tocitem" href="../../../Manual/Outputs/">Outputs</a></li><li><a class="tocitem" href="../../../Manual/System/">System</a></li><li><a class="tocitem" href="../../../Manual/Sectors/">Sectors</a></li><li><a class="tocitem" href="../../../Manual/Edges/">Edges</a></li><li><a class="tocitem" href="../../../Manual/Nodes/">Nodes</a></li><li><a class="tocitem" href="../../../Manual/Storage/">Storage</a></li><li><a class="tocitem" href="../../../Manual/Transforms/">Transforms</a></li><li><a class="tocitem" href="../../../Manual/Locations/">Locations</a></li><li><a class="tocitem" href="../../../Manual/assets/1_introduction/">Assets</a></li><li><input class="collapse-toggle" id="menuitem-5-12" type="checkbox"/><label class="tocitem" for="menuitem-5-12"><span class="docs-label">Asset Library</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../Manual/assets/battery/">Battery</a></li><li><a class="tocitem" href="../../../Manual/assets/beccselectricity/">BECCS Electricity</a></li><li><a class="tocitem" href="../../../Manual/assets/beccshydrogen/">BECCS Hydrogen</a></li><li><a class="tocitem" href="../../../Manual/assets/electricdac/">Electric DAC</a></li><li><a class="tocitem" href="../../../Manual/assets/electrolyzer/">Electrolyzer</a></li><li><a class="tocitem" href="../../../Manual/assets/fuelcell/">Fuel Cell</a></li><li><a class="tocitem" href="../../../Manual/assets/gasstorage/">Gas Storage</a></li><li><a class="tocitem" href="../../../Manual/assets/hydrogenline/">Hydrogen Line</a></li><li><a class="tocitem" href="../../../Manual/assets/hydropower/">Hydro Reservoir</a></li><li><a class="tocitem" href="../../../Manual/assets/mustrun/">Must Run</a></li><li><a class="tocitem" href="../../../Manual/assets/natgasdaq/">Natural Gas DAC</a></li><li><a class="tocitem" href="../../../Manual/assets/powerline/">Power Line</a></li><li><a class="tocitem" href="../../../Manual/assets/thermalhydrogen/">Thermal Hydrogen Plant (with and without CCS)</a></li><li><a class="tocitem" href="../../../Manual/assets/thermalpower/">Thermal Power Plant (with and without CCS)</a></li><li><a class="tocitem" href="../../../Manual/assets/vre/">Variable Renewable Energy resources (VRE)</a></li></ul></li><li><a class="tocitem" href="../../../Manual/Model/">Model</a></li></ul></li><li><a class="tocitem" href="../../../how_to_contribute/">How to contribute</a></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox"/><label class="tocitem" for="menuitem-7"><span class="docs-label">References</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../../References/1_introduction/">Introduction</a></li><li><a class="tocitem" href="../../../References/2_reading_input/">Reading input data</a></li><li><a class="tocitem" href="../../../References/3_macro_objects/">Macro Objects</a></li><li><a class="tocitem" href="../../../References/4_writing_output/">Writing output data</a></li><li><a class="tocitem" href="../../../References/5_utilities/">Utilities</a></li><li><a class="tocitem" href="../../../References/ref_download_examples/">Downloading examples</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Guides</a></li><li><a class="is-disabled">Modeler Guide</a></li><li class="is-active"><a href>Debugging and Testing</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Debugging and Testing</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/macroenergy/MacroEnergy.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/macroenergy/MacroEnergy.jl/blob/main/docs/src/Guides/Modeler Guide/modeler_debugging_testing.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="Debugging-and-Testing-a-Macro-Model"><a class="docs-heading-anchor" href="#Debugging-and-Testing-a-Macro-Model">Debugging and Testing a Macro Model</a><a id="Debugging-and-Testing-a-Macro-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Debugging-and-Testing-a-Macro-Model" title="Permalink"></a></h1><p>Macro offers a range of utility functions designed to make debugging and testing new models and sectors more efficient and straightforward.</p><p>The following functions are organized with the following sections:</p><ul><li><a href="#Working-with-a-System">Working with a System</a></li><li><a href="#Model-Generation-and-Running">Generating a Model</a></li><li><a href="#Working-with-Nodes-in-a-System">Working with Nodes</a></li><li><a href="#Working-with-Assets">Working with Assets</a></li><li><a href="#Working-with-Edges">Working with Edges</a></li><li><a href="#Working-with-Transformations">Working with Transformations</a></li><li><a href="#Working-with-Storages">Working with Storages</a></li><li><a href="#Time-Management">Time Management</a></li><li><a href="#Results-Collection">Results Collection</a></li></ul><h2 id="Working-with-a-System"><a class="docs-heading-anchor" href="#Working-with-a-System">Working with a System</a><a id="Working-with-a-System-1"></a><a class="docs-heading-anchor-permalink" href="#Working-with-a-System" title="Permalink"></a></h2><p>Let&#39;s start by loading a system from a case folder (you can find more information about the structure of this folder in the <a href="../../../Getting Started/3_first_run/#Running-Macro">Running Macro</a> section).</p><h3 id="[load_system](@ref)"><a class="docs-heading-anchor" href="#[load_system](@ref)"><a href="../../../References/2_reading_input/#load_system"><code>load_system</code></a></a><a id="[load_system](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[load_system](@ref)" title="Permalink"></a></h3><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; using MacroEnergy</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; system = MacroEnergy.load_system(&quot;doctest&quot;);</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr36"><span class="sgr1">[ Info: </span></span>Loading system from doctest/system_data.json
<span class="sgr36"><span class="sgr1">[ Info: </span></span>Loading system data
<span class="sgr36"><span class="sgr1">[ Info: </span></span>Done loading system data. It took 0.81 seconds
<span class="sgr36"><span class="sgr1">[ Info: </span></span>Generating system
<span class="sgr36"><span class="sgr1">[ Info: </span></span> ++ Creating new location: NE
<span class="sgr36"><span class="sgr1">[ Info: </span></span>Done generating system. It took 18.43 seconds
<span class="sgr36"><span class="sgr1">[ Info: </span></span>Done loading system. It took 19.24 seconds</code></pre><h3 id="propertynames"><a class="docs-heading-anchor" href="#propertynames"><code>propertynames</code></a><a id="propertynames-1"></a><a class="docs-heading-anchor-permalink" href="#propertynames" title="Permalink"></a></h3><p>The <code>propertynames</code> function in Julia can be used to retrieve the names of the fields of a <code>System</code> object, such as the data directory path, settings, and locations.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; propertynames(system)</code><code class="nohighlight hljs ansi" style="display:block;">(:data_dirpath, :settings, :commodities, :time_data, :assets, :locations)</code></pre><ul><li><code>data_dirpath</code>: Path to the data directory.</li><li><code>settings</code>: Settings of the system.</li><li><code>commodities</code>: Sectors modeled in the system.</li><li><code>timedata</code>: Time resolution for each sector.</li><li><code>locations</code>: Vector of all <code>Location</code>s and <code>Node</code>s.</li><li><code>assets</code>: Vector of all <code>Asset</code>s.</li></ul><p>A <code>System</code> consists of six primary fields, each of which can be accessed using dot notation:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; system.data_dirpath</code><code class="nohighlight hljs ansi" style="display:block;">&quot;doctest&quot;</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; system.settings</code><code class="nohighlight hljs ansi" style="display:block;">(ConstraintScaling = true, WriteSubcommodities = true, OverwriteResults = false, OutputDir = &quot;results&quot;, OutputLayout = &quot;long&quot;, AutoCreateNodes = false, AutoCreateLocations = true)</code></pre><p>When interacting with a <code>System</code>, users might need to <strong>retrieve information</strong> about specific nodes, locations, or assets. The functions listed below are helpful for these tasks:</p><h3 id="[find_node](@ref)"><a class="docs-heading-anchor" href="#[find_node](@ref)"><a href="../../../References/5_utilities/#find_node"><code>find_node</code></a></a><a id="[find_node](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[find_node](@ref)" title="Permalink"></a></h3><p>Finds a node by its ID.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; co2_node = MacroEnergy.find_node(system.locations, :co2_sink);</code></pre><h3 id="[get_asset_types](@ref)"><a class="docs-heading-anchor" href="#[get_asset_types](@ref)"><a href="../../../References/5_utilities/#get_asset_types"><code>get_asset_types</code></a></a><a id="[get_asset_types](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[get_asset_types](@ref)" title="Permalink"></a></h3><p>Retrieves all the types of assets in the system.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; asset_types = MacroEnergy.get_asset_types(system);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; unique(asset_types)</code><code class="nohighlight hljs ansi" style="display:block;">7-element Vector{DataType}:
 Battery
 Electrolyzer
 GasStorage{Hydrogen}
 ThermalPower{NaturalGas}
 ThermalPower{Uranium}
 PowerLine
 VRE</code></pre><h3 id="[asset_ids](@ref)"><a class="docs-heading-anchor" href="#[asset_ids](@ref)"><a href="../../../References/5_utilities/#asset_ids"><code>asset_ids</code></a></a><a id="[asset_ids](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[asset_ids](@ref)" title="Permalink"></a></h3><p>Retrieves the IDs of all the assets in the system.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; ids = MacroEnergy.asset_ids(system)</code><code class="nohighlight hljs ansi" style="display:block;">98-element Vector{Symbol}:
 :battery_SE
 :battery_MIDAT
 :battery_NE
 :pumpedhydro_SE
 :pumpedhydro_MIDAT
 :pumpedhydro_NE
 :SE_Electrolyzer
 :MIDAT_Electrolyzer
 :NE_Electrolyzer
 :h2_SE_to_MIDAT
 ⋮
 :NE_landbasedwind_class4_moderate_70_4
 :NE_landbasedwind_class4_moderate_70_5
 :NE_landbasedwind_class4_moderate_70_6
 :NE_landbasedwind_class4_moderate_70_7
 :existing_solar_MIDAT
 :existing_solar_SE
 :existing_solar_NE
 :existing_wind_NE
 :existing_wind_MIDAT</code></pre><p>Once you have the IDs, you can retrieve an asset by its ID using the following function:</p><h3 id="[get_asset_by_id](@ref)"><a class="docs-heading-anchor" href="#[get_asset_by_id](@ref)"><a href="../../../References/5_utilities/#get_asset_by_id"><code>get_asset_by_id</code></a></a><a id="[get_asset_by_id](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[get_asset_by_id](@ref)" title="Permalink"></a></h3><p>Retrieves an asset by its ID.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; battery_SE = MacroEnergy.get_asset_by_id(system, :battery_SE);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; thermal_plant_SE = MacroEnergy.get_asset_by_id(system, :SE_natural_gas_fired_combined_cycle_1);</code></pre><p>The following function can be useful to retrieve a vector of all the assets of a given type.</p><h3 id="[get_assets_sametype](@ref)"><a class="docs-heading-anchor" href="#[get_assets_sametype](@ref)"><a href="../../../References/5_utilities/#get_assets_sametype"><code>get_assets_sametype</code></a></a><a id="[get_assets_sametype](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[get_assets_sametype](@ref)" title="Permalink"></a></h3><p>Returns a vector of assets of a given type.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; batteries = MacroEnergy.get_assets_sametype(system, Battery);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; battery = batteries[1]; # first battery in the list</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; thermal_plants = MacroEnergy.get_assets_sametype(system, ThermalPower{NaturalGas});</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; thermal_plant = thermal_plants[1]; # first thermal power plant in the list</code></pre><h2 id="Model-Generation-and-Running"><a class="docs-heading-anchor" href="#Model-Generation-and-Running">Model Generation and Running</a><a id="Model-Generation-and-Running-1"></a><a class="docs-heading-anchor-permalink" href="#Model-Generation-and-Running" title="Permalink"></a></h2><h3 id="generate_model"><a class="docs-heading-anchor" href="#generate_model"><code>generate_model</code></a><a id="generate_model-1"></a><a class="docs-heading-anchor-permalink" href="#generate_model" title="Permalink"></a></h3><p>Uses JuMP to generate the optimization model for the system data. </p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; model = MacroEnergy.generate_model(system);</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr36"><span class="sgr1">[ Info: </span></span>Generating model
<span class="sgr36"><span class="sgr1">[ Info: </span></span> -- Adding linking variables
<span class="sgr36"><span class="sgr1">[ Info: </span></span> -- Defining available capacity
<span class="sgr36"><span class="sgr1">[ Info: </span></span> -- Generating planning model
<span class="sgr36"><span class="sgr1">[ Info: </span></span> -- Generating operational model
<span class="sgr36"><span class="sgr1">[ Info: </span></span> -- Model generation complete. It took 12.94 seconds</code></pre><h3 id="set_optimizer"><a class="docs-heading-anchor" href="#set_optimizer"><code>set_optimizer</code></a><a id="set_optimizer-1"></a><a class="docs-heading-anchor-permalink" href="#set_optimizer" title="Permalink"></a></h3><p>Sets the optimizer for the JuMP model.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.set_optimizer(model, HiGHS.Optimizer);</code></pre><h3 id="optimize!"><a class="docs-heading-anchor" href="#optimize!"><code>optimize!</code></a><a id="optimize!-1"></a><a class="docs-heading-anchor-permalink" href="#optimize!" title="Permalink"></a></h3><p>Solves the optimization model.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.optimize!(model)</code></pre><p>The following set of functions can be used to retrieve the optimal values of some variables in the model.</p><h3 id="[get_optimal_capacity](@ref)"><a class="docs-heading-anchor" href="#[get_optimal_capacity](@ref)"><a href="../../../References/4_writing_output/#get_optimal_capacity"><code>get_optimal_capacity</code></a></a><a id="[get_optimal_capacity](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[get_optimal_capacity](@ref)" title="Permalink"></a></h3><p>Fetches the final capacities for all assets.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; capacity = MacroEnergy.get_optimal_capacity(system);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; capacity[!, [:commodity, :resource_id, :value]]</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr1">102×3 DataFrame</span>
<span class="sgr1"> Row </span>│<span class="sgr1"> commodity    resource_id                        value    </span>
     │<span class="sgr90"> Symbol       Symbol                             Float64  </span>
─────┼──────────────────────────────────────────────────────────
   1 │ Electricity  battery_SE                         11813.3
   2 │ Electricity  battery_MIDAT                          0.0
   3 │ Electricity  battery_NE                             0.0
   4 │ Electricity  pumpedhydro_SE                      6261.98
   5 │ Electricity  pumpedhydro_MIDAT                   5244.0
   6 │ Electricity  pumpedhydro_NE                      3206.9
   7 │ Hydrogen     SE_Electrolyzer                     6408.44
   8 │ Hydrogen     MIDAT_Electrolyzer                 61737.1
  ⋮  │      ⋮                       ⋮                     ⋮
  96 │ Electricity  NE_landbasedwind_class4_moderate…   1111.0
  97 │ Electricity  NE_landbasedwind_class4_moderate…      0.0
  98 │ Electricity  existing_solar_MIDAT                2974.6
  99 │ Electricity  existing_solar_SE                   8502.2
 100 │ Electricity  existing_solar_NE                      0.0
 101 │ Electricity  existing_wind_NE                    3654.5
 102 │ Electricity  existing_wind_MIDAT                 3231.6
<span class="sgr36">                                                 87 rows omitted</span></code></pre><h3 id="[get_optimal_new_capacity](@ref)"><a class="docs-heading-anchor" href="#[get_optimal_new_capacity](@ref)"><a href="../../../References/4_writing_output/#get_optimal_new_capacity"><code>get_optimal_new_capacity</code></a></a><a id="[get_optimal_new_capacity](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[get_optimal_new_capacity](@ref)" title="Permalink"></a></h3><p>Fetches the new capacities for all assets.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; new_capacity = MacroEnergy.get_optimal_new_capacity(system);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; new_capacity[!, [:commodity, :resource_id, :value]]</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr1">102×3 DataFrame</span>
<span class="sgr1"> Row </span>│<span class="sgr1"> commodity    resource_id                        value    </span>
     │<span class="sgr90"> Symbol       Symbol                             Float64  </span>
─────┼──────────────────────────────────────────────────────────
   1 │ Electricity  battery_SE                         11813.3
   2 │ Electricity  battery_MIDAT                          0.0
   3 │ Electricity  battery_NE                             0.0
   4 │ Electricity  pumpedhydro_SE                         0.0
   5 │ Electricity  pumpedhydro_MIDAT                      0.0
   6 │ Electricity  pumpedhydro_NE                         0.0
   7 │ Hydrogen     SE_Electrolyzer                     6408.44
   8 │ Hydrogen     MIDAT_Electrolyzer                 61737.1
  ⋮  │      ⋮                       ⋮                     ⋮
  96 │ Electricity  NE_landbasedwind_class4_moderate…   1111.0
  97 │ Electricity  NE_landbasedwind_class4_moderate…      0.0
  98 │ Electricity  existing_solar_MIDAT                   0.0
  99 │ Electricity  existing_solar_SE                      0.0
 100 │ Electricity  existing_solar_NE                      0.0
 101 │ Electricity  existing_wind_NE                       0.0
 102 │ Electricity  existing_wind_MIDAT                    0.0
<span class="sgr36">                                                 87 rows omitted</span></code></pre><h3 id="[get_optimal_retired_capacity](@ref)"><a class="docs-heading-anchor" href="#[get_optimal_retired_capacity](@ref)"><a href="../../../References/4_writing_output/#get_optimal_retired_capacity"><code>get_optimal_retired_capacity</code></a></a><a id="[get_optimal_retired_capacity](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[get_optimal_retired_capacity](@ref)" title="Permalink"></a></h3><p>Fetches the retired capacities for all assets.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; retired_capacity = MacroEnergy.get_optimal_retired_capacity(system);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; retired_capacity[!, [:commodity, :resource_id, :value]]</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr1">102×3 DataFrame</span>
<span class="sgr1"> Row </span>│<span class="sgr1"> commodity    resource_id                        value   </span>
     │<span class="sgr90"> Symbol       Symbol                             Float64 </span>
─────┼─────────────────────────────────────────────────────────
   1 │ Electricity  battery_SE                             0.0
   2 │ Electricity  battery_MIDAT                          0.0
   3 │ Electricity  battery_NE                             0.0
   4 │ Electricity  pumpedhydro_SE                         0.0
   5 │ Electricity  pumpedhydro_MIDAT                      0.0
   6 │ Electricity  pumpedhydro_NE                         0.0
   7 │ Hydrogen     SE_Electrolyzer                        0.0
   8 │ Hydrogen     MIDAT_Electrolyzer                     0.0
  ⋮  │      ⋮                       ⋮                     ⋮
  96 │ Electricity  NE_landbasedwind_class4_moderate…      0.0
  97 │ Electricity  NE_landbasedwind_class4_moderate…      0.0
  98 │ Electricity  existing_solar_MIDAT                   0.0
  99 │ Electricity  existing_solar_SE                      0.0
 100 │ Electricity  existing_solar_NE                   1629.6
 101 │ Electricity  existing_wind_NE                       0.0
 102 │ Electricity  existing_wind_MIDAT                    0.0
<span class="sgr36">                                                87 rows omitted</span></code></pre><h3 id="[get_optimal_costs](@ref)"><a class="docs-heading-anchor" href="#[get_optimal_costs](@ref)"><a href="../../../References/4_writing_output/#get_optimal_costs"><code>get_optimal_costs</code></a></a><a id="[get_optimal_costs](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[get_optimal_costs](@ref)" title="Permalink"></a></h3><p>Fetches all the system costs.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; costs = MacroEnergy.get_optimal_costs(model);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; costs[!, [:variable, :value]]</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr1">3×2 DataFrame</span>
<span class="sgr1"> Row </span>│<span class="sgr1"> variable      value      </span>
     │<span class="sgr90"> Symbol        Float64    </span>
─────┼──────────────────────────
   1 │ FixedCost     6.76694e10
   2 │ VariableCost  7.89832e8
   3 │ TotalCost     6.84592e10</code></pre><h2 id="Working-with-Nodes-in-a-System"><a class="docs-heading-anchor" href="#Working-with-Nodes-in-a-System">Working with Nodes in a System</a><a id="Working-with-Nodes-in-a-System-1"></a><a class="docs-heading-anchor-permalink" href="#Working-with-Nodes-in-a-System" title="Permalink"></a></h2><p>Once a <code>System</code> object is loaded, and the model is generated, users can use the following functions to inspect the nodes in the system.</p><div class="admonition is-success" id="Node-Interface-915cb497c095319b"><header class="admonition-header">Node Interface<a class="admonition-anchor" href="#Node-Interface-915cb497c095319b" title="Permalink"></a></header><div class="admonition-body"><p>For a comprehensive list of function interfaces available for node besides <code>id</code>, <code>commodity_type</code> and the ones listed below, users can refer to the <code>node.jl</code> and the <code>vertex.jl</code> source code.</p></div></div><h3 id="[find_node](@ref)-2"><a class="docs-heading-anchor" href="#[find_node](@ref)-2"><a href="../../../References/5_utilities/#find_node"><code>find_node</code></a></a><a class="docs-heading-anchor-permalink" href="#[find_node](@ref)-2" title="Permalink"></a></h3><p>Finds a node in the <code>System</code> by its ID.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; elec_node = MacroEnergy.find_node(system.locations, :elec_SE);</code></pre><div class="admonition is-info" id="Understanding-Balance-Equations-4597c2a7b2d629cd"><header class="admonition-header">Understanding Balance Equations<a class="admonition-anchor" href="#Understanding-Balance-Equations-4597c2a7b2d629cd" title="Permalink"></a></header><div class="admonition-body"><p>Nodes, as explained in the <a href="../modeler_es_graph/#Macro-Internal-Components">Macro Internal Components</a> section, are a unique type of <em>vertex</em> that represent the demand or supply of a commodity, where each vertex in Macro is associated with a <strong>balance equation</strong>. To programmatically access all balance equations within the system, the following functions are available:</p><ul><li><a href="../../../References/5_utilities/#balance_ids"><code>balance_ids</code></a>: Retrieve the <strong>IDs</strong> of all balance equations associated with a vertex.</li><li><a href="../../../References/5_utilities/#get_balance"><code>get_balance</code></a>: Obtain the <strong>mathematical expression</strong> of a specific balance equation.</li><li><a href="../../../References/5_utilities/#balance_data"><code>balance_data</code></a>: Access the <strong>input balance data</strong>, which typically includes the stoichiometric coefficients of a specific balance equation, if applicable.</li></ul></div></div><p>Here is an example of how to use these functions to access the balance equations for the electricity node in the system:</p><h3 id="[balance_ids](@ref)"><a class="docs-heading-anchor" href="#[balance_ids](@ref)"><a href="../../../References/5_utilities/#balance_ids"><code>balance_ids</code></a></a><a id="[balance_ids](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[balance_ids](@ref)" title="Permalink"></a></h3><p>Retrieves the IDs of all balance equations in a node.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.balance_ids(elec_node)</code><code class="nohighlight hljs ansi" style="display:block;">1-element Vector{Symbol}:
 :demand</code></pre><div class="admonition is-info" id="Demand-Balance-Equation-3d54fb58978f0ca1"><header class="admonition-header">Demand Balance Equation<a class="admonition-anchor" href="#Demand-Balance-Equation-3d54fb58978f0ca1" title="Permalink"></a></header><div class="admonition-body"><p>Macro automatically creates a <code>:demand</code> balance equation for each node that has a <code>BalanceConstraint</code>. </p></div></div><h3 id="[get_balance](@ref)"><a class="docs-heading-anchor" href="#[get_balance](@ref)"><a href="../../../References/5_utilities/#get_balance"><code>get_balance</code></a></a><a id="[get_balance](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[get_balance](@ref)" title="Permalink"></a></h3><p>Retrieves the mathematical expression of the demand balance equation for the node.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; demand_expression = MacroEnergy.get_balance(elec_node, :demand);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; demand_expression[1] # first time step</code><code class="nohighlight hljs ansi" style="display:block;">-102999 vREF + vNSD_elec_SE[1,1] + vFLOW_battery_SE_discharge_edge[1] - vFLOW_battery_SE_charge_edge[1] + vFLOW_pumpedhydro_SE_discharge_edge[1] - vFLOW_pumpedhydro_SE_charge_edge[1] - vFLOW_SE_Electrolyzer_elec_edge[1] - vFLOW_h2_SE_to_MIDAT_charge_elec_edge[1] - vFLOW_h2_SE_to_MIDAT_discharge_elec_edge[1] + vFLOW_SE_natural_gas_fired_combined_cycle_1_elec_edge[1] + vFLOW_SE_natural_gas_fired_combined_cycle_2_elec_edge[1] + vFLOW_SE_natural_gas_fired_combined_cycle_3_elec_edge[1] + vFLOW_SE_natural_gas_fired_combined_cycle_4_elec_edge[1] + vFLOW_SE_natural_gas_fired_combustion_turbine_1_elec_edge[1] + vFLOW_SE_natural_gas_fired_combustion_turbine_2_elec_edge[1] + vFLOW_SE_naturalgas_ccavgcf_moderate_0_elec_edge[1] + vFLOW_SE_naturalgas_ctavgcf_moderate_0_elec_edge[1] + vFLOW_SE_nuclear_1_elec_edge[1] + vFLOW_SE_nuclear_2_elec_edge[1] + vFLOW_SE_nuclear_mid_0_elec_edge[1] - vFLOWPOS_SE_to_MIDAT_elec_edge[1] + 0.95085488 vFLOWNEG_SE_to_MIDAT_elec_edge[1] + vFLOW_SE_utilitypv_class1_moderate_70_0_2_1_edge[1] + vFLOW_SE_utilitypv_class1_moderate_70_0_2_2_edge[1] + vFLOW_SE_utilitypv_class1_moderate_70_0_2_3_edge[1] + vFLOW_SE_utilitypv_class1_moderate_70_0_2_4_edge[1] + vFLOW_SE_utilitypv_class1_moderate_70_0_2_5_edge[1] + vFLOW_SE_utilitypv_class1_moderate_70_0_2_6_edge[1] + vFLOW_SE_utilitypv_class1_moderate_70_0_2_7_edge[1] + vFLOW_SE_utilitypv_class1_moderate_70_0_2_8_edge[1] + vFLOW_SE_landbasedwind_class4_moderate_70_1_edge[1] + vFLOW_SE_landbasedwind_class4_moderate_70_2_edge[1] + vFLOW_SE_landbasedwind_class4_moderate_70_3_edge[1] + vFLOW_SE_landbasedwind_class4_moderate_70_4_edge[1] + vFLOW_SE_landbasedwind_class4_moderate_70_5_edge[1] + vFLOW_SE_landbasedwind_class4_moderate_70_6_edge[1] + vFLOW_SE_landbasedwind_class4_moderate_70_7_edge[1] + vFLOW_SE_landbasedwind_class4_moderate_70_8_edge[1] + vFLOW_existing_solar_SE_edge[1]</code></pre><h3 id="[balance_ids](@ref)-2"><a class="docs-heading-anchor" href="#[balance_ids](@ref)-2"><a href="../../../References/5_utilities/#balance_ids"><code>balance_ids</code></a></a><a class="docs-heading-anchor-permalink" href="#[balance_ids](@ref)-2" title="Permalink"></a></h3><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; co2_node = MacroEnergy.find_node(system.locations, :co2_sink);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.balance_ids(co2_node)</code><code class="nohighlight hljs ansi" style="display:block;">1-element Vector{Symbol}:
 :emissions</code></pre><div class="admonition is-info" id="CO-Balance-Equation-e81e126963a74d9f"><header class="admonition-header">CO₂ Balance Equation<a class="admonition-anchor" href="#CO-Balance-Equation-e81e126963a74d9f" title="Permalink"></a></header><div class="admonition-body"><p>Macro automatically creates an <code>:emissions</code> balance equation for each CO₂ node that has a <code>CO2CapConstraint</code>.</p></div></div><h3 id="[get_balance](@ref)-2"><a class="docs-heading-anchor" href="#[get_balance](@ref)-2"><a href="../../../References/5_utilities/#get_balance"><code>get_balance</code></a></a><a class="docs-heading-anchor-permalink" href="#[get_balance](@ref)-2" title="Permalink"></a></h3><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; emissions_expression = MacroEnergy.get_balance(co2_node, :emissions);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; emissions_expression[1] # first time step</code><code class="nohighlight hljs ansi" style="display:block;">vFLOW_MIDAT_natural_gas_fired_combined_cycle_1_co2_edge[1] + vFLOW_MIDAT_natural_gas_fired_combined_cycle_2_co2_edge[1] + vFLOW_MIDAT_natural_gas_fired_combined_cycle_3_co2_edge[1] + vFLOW_MIDAT_natural_gas_fired_combined_cycle_4_co2_edge[1] + vFLOW_MIDAT_natural_gas_fired_combustion_turbine_1_co2_edge[1] + vFLOW_MIDAT_natural_gas_fired_combustion_turbine_2_co2_edge[1] + vFLOW_NE_natural_gas_fired_combined_cycle_1_co2_edge[1] + vFLOW_NE_natural_gas_fired_combined_cycle_2_co2_edge[1] + vFLOW_NE_natural_gas_fired_combined_cycle_3_co2_edge[1] + vFLOW_NE_natural_gas_fired_combined_cycle_4_co2_edge[1] + vFLOW_NE_natural_gas_fired_combustion_turbine_1_co2_edge[1] + vFLOW_NE_natural_gas_fired_combustion_turbine_2_co2_edge[1] + vFLOW_SE_natural_gas_fired_combined_cycle_1_co2_edge[1] + vFLOW_SE_natural_gas_fired_combined_cycle_2_co2_edge[1] + vFLOW_SE_natural_gas_fired_combined_cycle_3_co2_edge[1] + vFLOW_SE_natural_gas_fired_combined_cycle_4_co2_edge[1] + vFLOW_SE_natural_gas_fired_combustion_turbine_1_co2_edge[1] + vFLOW_SE_natural_gas_fired_combustion_turbine_2_co2_edge[1] + vFLOW_SE_naturalgas_ccavgcf_moderate_0_co2_edge[1] + vFLOW_SE_naturalgas_ctavgcf_moderate_0_co2_edge[1] + vFLOW_MIDAT_naturalgas_ccavgcf_moderate_0_co2_edge[1] + vFLOW_MIDAT_naturalgas_ctavgcf_moderate_0_co2_edge[1] + vFLOW_NE_naturalgas_ccavgcf_moderate_0_co2_edge[1] + vFLOW_NE_naturalgas_ctavgcf_moderate_0_co2_edge[1] + vFLOW_SE_nuclear_1_co2_edge[1] + vFLOW_SE_nuclear_2_co2_edge[1] + vFLOW_NE_nuclear_1_co2_edge[1] + vFLOW_NE_nuclear_2_co2_edge[1] + vFLOW_MIDAT_nuclear_1_co2_edge[1] + vFLOW_MIDAT_nuclear_2_co2_edge[1] + vFLOW_MIDAT_nuclear_mid_0_co2_edge[1] + vFLOW_NE_nuclear_mid_0_co2_edge[1] + vFLOW_SE_nuclear_mid_0_co2_edge[1]</code></pre><div class="admonition is-success" id="Total-Emissions-653a3dc4bcf6c852"><header class="admonition-header">Total Emissions<a class="admonition-anchor" href="#Total-Emissions-653a3dc4bcf6c852" title="Permalink"></a></header><div class="admonition-body"><p>To calculate the total emissions at a node, users should perform the following steps:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; emissions_expression = MacroEnergy.get_balance(co2_node, :emissions);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.value(sum(emissions_expression))</code><code class="nohighlight hljs ansi" style="display:block;">0.0</code></pre></div></div><p>To check and visualize the mathematical expressions of the <strong>constraints</strong> applied to a node, the following functions are available:</p><ul><li><a href="../../../References/5_utilities/#all_constraints"><code>all_constraints</code></a>: Retrieve all constraints associated with a node.</li><li><a href="../../../References/5_utilities/#all_constraints_types"><code>all_constraints_types</code></a>: Retrieve all types of constraints associated with a node.</li><li><a href="../../../References/5_utilities/#get_constraint_by_type"><code>get_constraint_by_type</code></a>: Retrieve a specific constraint on a node by its type.</li></ul><h3 id="[all_constraints](@ref)"><a class="docs-heading-anchor" href="#[all_constraints](@ref)"><a href="../../../References/5_utilities/#all_constraints"><code>all_constraints</code></a></a><a id="[all_constraints](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[all_constraints](@ref)" title="Permalink"></a></h3><p>Retrieves all the constraints attached to a node.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; all_constraints = MacroEnergy.all_constraints(elec_node);</code></pre><h3 id="[all_constraints_types](@ref)"><a class="docs-heading-anchor" href="#[all_constraints_types](@ref)"><a href="../../../References/5_utilities/#all_constraints_types"><code>all_constraints_types</code></a></a><a id="[all_constraints_types](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[all_constraints_types](@ref)" title="Permalink"></a></h3><p>Retrieves all the types of constraints attached to a node.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; all_constraints_types = MacroEnergy.all_constraints_types(elec_node)</code><code class="nohighlight hljs ansi" style="display:block;">3-element Vector{DataType}:
 MaxNonServedDemandPerSegmentConstraint
 MaxNonServedDemandConstraint
 BalanceConstraint</code></pre><h3 id="[get_constraint_by_type](@ref),-constraint_ref"><a class="docs-heading-anchor" href="#[get_constraint_by_type](@ref),-constraint_ref"><a href="../../../References/5_utilities/#get_constraint_by_type"><code>get_constraint_by_type</code></a>, <code>constraint_ref</code></a><a id="[get_constraint_by_type](@ref),-constraint_ref-1"></a><a class="docs-heading-anchor-permalink" href="#[get_constraint_by_type](@ref),-constraint_ref" title="Permalink"></a></h3><p>Retrieves a constraint on a node by its type.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; balance_constraint = MacroEnergy.get_constraint_by_type(elec_node, BalanceConstraint);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.constraint_ref(balance_constraint);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; max_non_served_demand_constraint = MacroEnergy.get_constraint_by_type(elec_node, MaxNonServedDemandConstraint);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.constraint_ref(max_non_served_demand_constraint)[1:5]</code><code class="nohighlight hljs ansi" style="display:block;">1-dimensional DenseAxisArray{JuMP.ConstraintRef{Model, MathOptInterface.ConstraintIndex{MathOptInterface.ScalarAffineFunction{Float64}, MathOptInterface.LessThan{Float64}}, JuMP.ScalarShape},1,...} with index sets:
    Dimension 1, [1, 2, 3, 4, 5]
And data, a 5-element Vector{JuMP.ConstraintRef{Model, MathOptInterface.ConstraintIndex{MathOptInterface.ScalarAffineFunction{Float64}, MathOptInterface.LessThan{Float64}}, JuMP.ScalarShape}}:
 vNSD_elec_SE[1,1] ≤ 102999
 vNSD_elec_SE[1,2] ≤ 98121
 vNSD_elec_SE[1,3] ≤ 95100
 vNSD_elec_SE[1,4] ≤ 93727
 vNSD_elec_SE[1,5] ≤ 93366</code></pre><h2 id="Working-with-Assets"><a class="docs-heading-anchor" href="#Working-with-Assets">Working with Assets</a><a id="Working-with-Assets-1"></a><a class="docs-heading-anchor-permalink" href="#Working-with-Assets" title="Permalink"></a></h2><p>Together with Locations, assets form the core components of an energy system in Macro. The functions below are essential for managing and interacting with assets.</p><h3 id="id"><a class="docs-heading-anchor" href="#id"><code>id</code></a><a id="id-1"></a><a class="docs-heading-anchor-permalink" href="#id" title="Permalink"></a></h3><p>Retrieves the ID of an asset.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; thermal_plant = MacroEnergy.get_asset_by_id(system, :SE_natural_gas_fired_combined_cycle_1);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.id(thermal_plant)</code><code class="nohighlight hljs ansi" style="display:block;">:SE_natural_gas_fired_combined_cycle_1</code></pre><h3 id="[print_struct_info](@ref)"><a class="docs-heading-anchor" href="#[print_struct_info](@ref)"><a href="../../../References/5_utilities/#print_struct_info"><code>print_struct_info</code></a></a><a id="[print_struct_info](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[print_struct_info](@ref)" title="Permalink"></a></h3><p>Prints the structure of an asset in terms of its components (edges, transformations, storages, etc.)</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.print_struct_info(thermal_plant)</code><code class="nohighlight hljs ansi" style="display:block;">Field: thermal_transform, Type: Transformation
Field: elec_edge, Type: Union{Edge{&lt;:Electricity}, EdgeWithUC{&lt;:Electricity}}
Field: fuel_edge, Type: Edge{&lt;:NaturalGas}
Field: co2_edge, Type: Edge{&lt;:CO2}</code></pre><p>Once you have collected the <strong>names</strong> of the components of an asset, you can use the following function to get a specific component by its name.</p><h3 id="[get_component_by_fieldname](@ref)"><a class="docs-heading-anchor" href="#[get_component_by_fieldname](@ref)"><a href="../../../References/5_utilities/#get_component_by_fieldname"><code>get_component_by_fieldname</code></a></a><a id="[get_component_by_fieldname](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[get_component_by_fieldname](@ref)" title="Permalink"></a></h3><p>Retrieves a component of an asset by its field name.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; elec_edge = MacroEnergy.get_component_by_fieldname(thermal_plant, :elec_edge);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.id(elec_edge)</code><code class="nohighlight hljs ansi" style="display:block;">:SE_natural_gas_fired_combined_cycle_1_elec_edge</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.typeof(elec_edge)</code><code class="nohighlight hljs ansi" style="display:block;">EdgeWithUC{Electricity}</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.commodity_type(elec_edge)</code><code class="nohighlight hljs ansi" style="display:block;">Electricity</code></pre><p>Alternatively, users can retrieve a specific component using its ID.</p><h3 id="[get_component_ids](@ref)"><a class="docs-heading-anchor" href="#[get_component_ids](@ref)"><a href="../../../References/5_utilities/#get_component_ids"><code>get_component_ids</code></a></a><a id="[get_component_ids](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[get_component_ids](@ref)" title="Permalink"></a></h3><p>Retrieves the IDs of all the components of an asset.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.get_component_ids(thermal_plant)</code><code class="nohighlight hljs ansi" style="display:block;">4-element Vector{Symbol}:
 :SE_natural_gas_fired_combined_cycle_1_transforms
 :SE_natural_gas_fired_combined_cycle_1_elec_edge
 :SE_natural_gas_fired_combined_cycle_1_fuel_edge
 :SE_natural_gas_fired_combined_cycle_1_co2_edge</code></pre><h3 id="[get_component_by_id](@ref)"><a class="docs-heading-anchor" href="#[get_component_by_id](@ref)"><a href="../../../References/5_utilities/#get_component_by_id"><code>get_component_by_id</code></a></a><a id="[get_component_by_id](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[get_component_by_id](@ref)" title="Permalink"></a></h3><p>Retrieves a component of an asset by its ID.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; elec_edge = MacroEnergy.get_component_by_id(thermal_plant, :SE_natural_gas_fired_combined_cycle_1_elec_edge);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.id(elec_edge)</code><code class="nohighlight hljs ansi" style="display:block;">:SE_natural_gas_fired_combined_cycle_1_elec_edge</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.typeof(elec_edge)</code><code class="nohighlight hljs ansi" style="display:block;">EdgeWithUC{Electricity}</code></pre><h2 id="Working-with-Edges"><a class="docs-heading-anchor" href="#Working-with-Edges">Working with Edges</a><a id="Working-with-Edges-1"></a><a class="docs-heading-anchor-permalink" href="#Working-with-Edges" title="Permalink"></a></h2><h3 id="id-2"><a class="docs-heading-anchor" href="#id-2"><code>id</code></a><a class="docs-heading-anchor-permalink" href="#id-2" title="Permalink"></a></h3><p>Retrieves the ID of an edge.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.id(elec_edge)</code><code class="nohighlight hljs ansi" style="display:block;">:SE_natural_gas_fired_combined_cycle_1_elec_edge</code></pre><h3 id="commodity_type"><a class="docs-heading-anchor" href="#commodity_type"><code>commodity_type</code></a><a id="commodity_type-1"></a><a class="docs-heading-anchor-permalink" href="#commodity_type" title="Permalink"></a></h3><p>Retrieves the commodity type of an edge.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.commodity_type(elec_edge)</code><code class="nohighlight hljs ansi" style="display:block;">Electricity</code></pre><div class="admonition is-success" id="Edge-Interface-4cca603ad1d55fbe"><header class="admonition-header">Edge Interface<a class="admonition-anchor" href="#Edge-Interface-4cca603ad1d55fbe" title="Permalink"></a></header><div class="admonition-body"><p>For a comprehensive list of function interfaces available for edge besides <code>id</code>, <code>commodity_type</code> and the ones listed below, users can refer to the <code>edge.jl</code> source code.</p></div></div><h3 id="[get_edges](@ref)"><a class="docs-heading-anchor" href="#[get_edges](@ref)"><a href="../../../References/5_utilities/#get_edges"><code>get_edges</code></a></a><a id="[get_edges](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[get_edges](@ref)" title="Permalink"></a></h3><p>Retrieves all the edges in the system.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; edges = MacroEnergy.get_edges(system);</code></pre><h3 id="capacity"><a class="docs-heading-anchor" href="#capacity"><code>capacity</code></a><a id="capacity-1"></a><a class="docs-heading-anchor-permalink" href="#capacity" title="Permalink"></a></h3><p>Retrieves the capacity expression of an edge.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; capacity_expression = MacroEnergy.capacity(elec_edge)</code><code class="nohighlight hljs ansi" style="display:block;">504.206 vNEWUNIT_SE_natural_gas_fired_combined_cycle_1_elec_edge - 504.206 vRETUNIT_SE_natural_gas_fired_combined_cycle_1_elec_edge + 26218.712</code></pre><h3 id="final_capacity"><a class="docs-heading-anchor" href="#final_capacity"><code>final_capacity</code></a><a id="final_capacity-1"></a><a class="docs-heading-anchor-permalink" href="#final_capacity" title="Permalink"></a></h3><p>Retrieves the final capacity of an edge (i.e. the optimal value of the capacity expression).</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; capacity_expression = MacroEnergy.capacity(elec_edge)</code><code class="nohighlight hljs ansi" style="display:block;">504.206 vNEWUNIT_SE_natural_gas_fired_combined_cycle_1_elec_edge - 504.206 vRETUNIT_SE_natural_gas_fired_combined_cycle_1_elec_edge + 26218.712</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.value(capacity_expression)</code><code class="nohighlight hljs ansi" style="display:block;">0.0</code></pre><h3 id="flow"><a class="docs-heading-anchor" href="#flow"><code>flow</code></a><a id="flow-1"></a><a class="docs-heading-anchor-permalink" href="#flow" title="Permalink"></a></h3><p>Retrieves the flow variables of an edge.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; flow_variables = MacroEnergy.flow(elec_edge);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; flow_variables[1:5]</code><code class="nohighlight hljs ansi" style="display:block;">1-dimensional DenseAxisArray{JuMP.VariableRef,1,...} with index sets:
    Dimension 1, [1, 2, 3, 4, 5]
And data, a 5-element Vector{JuMP.VariableRef}:
 vFLOW_SE_natural_gas_fired_combined_cycle_1_elec_edge[1]
 vFLOW_SE_natural_gas_fired_combined_cycle_1_elec_edge[2]
 vFLOW_SE_natural_gas_fired_combined_cycle_1_elec_edge[3]
 vFLOW_SE_natural_gas_fired_combined_cycle_1_elec_edge[4]
 vFLOW_SE_natural_gas_fired_combined_cycle_1_elec_edge[5]</code></pre><h3 id="value"><a class="docs-heading-anchor" href="#value"><code>value</code></a><a id="value-1"></a><a class="docs-heading-anchor-permalink" href="#value" title="Permalink"></a></h3><p>Retrieves the values of the flow variables of an edge.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; flow_values = MacroEnergy.value.(flow_variables);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; flow_values[1:5]</code><code class="nohighlight hljs ansi" style="display:block;">1-dimensional DenseAxisArray{Float64,1,...} with index sets:
    Dimension 1, [1, 2, 3, 4, 5]
And data, a 5-element Vector{Float64}:
 -0.0
 -0.0
 -0.0
 -0.0
 -0.0</code></pre><div class="admonition is-info" id="Broadcasted-value-5dd992981852ab9a"><header class="admonition-header">Broadcasted `value`<a class="admonition-anchor" href="#Broadcasted-value-5dd992981852ab9a" title="Permalink"></a></header><div class="admonition-body"><p>Note that the <code>value</code> function is called with the dot notation to apply it to each element of the <code>flow_variables</code> array (see <a href="https://docs.julialang.org/en/v1/manual/functions/#man-vectorized">Julia&#39;s documentation</a> for more information).</p></div></div><p>In this example, we first get the flow of the CO₂ edge and then we call the <code>value</code> function to get the values of these variables.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; co2_edge = MacroEnergy.get_component_by_fieldname(thermal_plant, :co2_edge);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; emission = MacroEnergy.flow(co2_edge)[1:5]</code><code class="nohighlight hljs ansi" style="display:block;">1-dimensional DenseAxisArray{JuMP.VariableRef,1,...} with index sets:
    Dimension 1, [1, 2, 3, 4, 5]
And data, a 5-element Vector{JuMP.VariableRef}:
 vFLOW_SE_natural_gas_fired_combined_cycle_1_co2_edge[1]
 vFLOW_SE_natural_gas_fired_combined_cycle_1_co2_edge[2]
 vFLOW_SE_natural_gas_fired_combined_cycle_1_co2_edge[3]
 vFLOW_SE_natural_gas_fired_combined_cycle_1_co2_edge[4]
 vFLOW_SE_natural_gas_fired_combined_cycle_1_co2_edge[5]</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; emission_values = MacroEnergy.value.(emission);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; emission_values[1:5]</code><code class="nohighlight hljs ansi" style="display:block;">1-dimensional DenseAxisArray{Float64,1,...} with index sets:
    Dimension 1, [1, 2, 3, 4, 5]
And data, a 5-element Vector{Float64}:
 0.0
 0.0
 0.0
 0.0
 0.0</code></pre><p>The functions available for nodes when dealing with constraints can also be used for edges.</p><h3 id="[all_constraints_types](@ref)-2"><a class="docs-heading-anchor" href="#[all_constraints_types](@ref)-2"><a href="../../../References/5_utilities/#all_constraints_types"><code>all_constraints_types</code></a></a><a class="docs-heading-anchor-permalink" href="#[all_constraints_types](@ref)-2" title="Permalink"></a></h3><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.all_constraints_types(elec_edge)</code><code class="nohighlight hljs ansi" style="display:block;">5-element Vector{DataType}:
 MinFlowConstraint
 MinDownTimeConstraint
 CapacityConstraint
 MinUpTimeConstraint
 RampingLimitConstraint</code></pre><h3 id="[get_constraint_by_type](@ref)"><a class="docs-heading-anchor" href="#[get_constraint_by_type](@ref)"><a href="../../../References/5_utilities/#get_constraint_by_type"><code>get_constraint_by_type</code></a></a><a id="[get_constraint_by_type](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[get_constraint_by_type](@ref)" title="Permalink"></a></h3><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; constraint = MacroEnergy.get_constraint_by_type(elec_edge, CapacityConstraint);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.constraint_ref(constraint)[1:5]</code><code class="nohighlight hljs ansi" style="display:block;">1-dimensional DenseAxisArray{JuMP.ConstraintRef{Model, MathOptInterface.ConstraintIndex{MathOptInterface.ScalarAffineFunction{Float64}, MathOptInterface.LessThan{Float64}}, JuMP.ScalarShape},1,...} with index sets:
    Dimension 1, [1, 2, 3, 4, 5]
And data, a 5-element Vector{JuMP.ConstraintRef{Model, MathOptInterface.ConstraintIndex{MathOptInterface.ScalarAffineFunction{Float64}, MathOptInterface.LessThan{Float64}}, JuMP.ScalarShape}}:
 vFLOW_SE_natural_gas_fired_combined_cycle_1_elec_edge[1] - 504.206 vCOMMIT_SE_natural_gas_fired_combined_cycle_1_elec_edge[1] ≤ 0
 vFLOW_SE_natural_gas_fired_combined_cycle_1_elec_edge[2] - 504.206 vCOMMIT_SE_natural_gas_fired_combined_cycle_1_elec_edge[2] ≤ 0
 vFLOW_SE_natural_gas_fired_combined_cycle_1_elec_edge[3] - 504.206 vCOMMIT_SE_natural_gas_fired_combined_cycle_1_elec_edge[3] ≤ 0
 vFLOW_SE_natural_gas_fired_combined_cycle_1_elec_edge[4] - 504.206 vCOMMIT_SE_natural_gas_fired_combined_cycle_1_elec_edge[4] ≤ 0
 vFLOW_SE_natural_gas_fired_combined_cycle_1_elec_edge[5] - 504.206 vCOMMIT_SE_natural_gas_fired_combined_cycle_1_elec_edge[5] ≤ 0</code></pre><h3 id="start_vertex"><a class="docs-heading-anchor" href="#start_vertex"><code>start_vertex</code></a><a id="start_vertex-1"></a><a class="docs-heading-anchor-permalink" href="#start_vertex" title="Permalink"></a></h3><p>Retrieves the starting node of an edge.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; start_node = MacroEnergy.start_vertex(elec_edge);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.id(start_node)</code><code class="nohighlight hljs ansi" style="display:block;">:SE_natural_gas_fired_combined_cycle_1_transforms</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.typeof(start_node)</code><code class="nohighlight hljs ansi" style="display:block;">Transformation</code></pre><h3 id="end_vertex"><a class="docs-heading-anchor" href="#end_vertex"><code>end_vertex</code></a><a id="end_vertex-1"></a><a class="docs-heading-anchor-permalink" href="#end_vertex" title="Permalink"></a></h3><p>Retrieves the ending node of an edge.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; end_node = MacroEnergy.end_vertex(elec_edge);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.id(end_node)</code><code class="nohighlight hljs ansi" style="display:block;">:elec_SE</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.typeof(end_node)</code><code class="nohighlight hljs ansi" style="display:block;">Node{Electricity}</code></pre><h2 id="Working-with-Transformations"><a class="docs-heading-anchor" href="#Working-with-Transformations">Working with Transformations</a><a id="Working-with-Transformations-1"></a><a class="docs-heading-anchor-permalink" href="#Working-with-Transformations" title="Permalink"></a></h2><div class="admonition is-success" id="Transformation-Interface-d227e70222cef84"><header class="admonition-header">Transformation Interface<a class="admonition-anchor" href="#Transformation-Interface-d227e70222cef84" title="Permalink"></a></header><div class="admonition-body"><p>For a comprehensive list of function interfaces available for transformation besides <code>id</code>, <code>commodity_type</code> and the ones listed below, users can refer to the <code>transformation.jl</code> and the <code>vertex.jl</code> source code.</p></div></div><p>To access the transformation component of an asset, utilize the following functions:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.print_struct_info(thermal_plant)</code><code class="nohighlight hljs ansi" style="display:block;">Field: thermal_transform, Type: Transformation
Field: elec_edge, Type: Union{Edge{&lt;:Electricity}, EdgeWithUC{&lt;:Electricity}}
Field: fuel_edge, Type: Edge{&lt;:NaturalGas}
Field: co2_edge, Type: Edge{&lt;:CO2}</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; thermal_transform = MacroEnergy.get_component_by_fieldname(thermal_plant, :thermal_transform);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.id(thermal_transform)</code><code class="nohighlight hljs ansi" style="display:block;">:SE_natural_gas_fired_combined_cycle_1_transforms</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.typeof(thermal_transform)</code><code class="nohighlight hljs ansi" style="display:block;">Transformation</code></pre><h3 id="[balance_ids](@ref)-3"><a class="docs-heading-anchor" href="#[balance_ids](@ref)-3"><a href="../../../References/5_utilities/#balance_ids"><code>balance_ids</code></a></a><a class="docs-heading-anchor-permalink" href="#[balance_ids](@ref)-3" title="Permalink"></a></h3><p>Retrieves the IDs of all the balance equations in a transformation.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.balance_ids(thermal_transform)</code><code class="nohighlight hljs ansi" style="display:block;">2-element Vector{Symbol}:
 :emissions
 :energy</code></pre><h3 id="[balance_data](@ref)"><a class="docs-heading-anchor" href="#[balance_data](@ref)"><a href="../../../References/5_utilities/#balance_data"><code>balance_data</code></a></a><a id="[balance_data](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[balance_data](@ref)" title="Permalink"></a></h3><p>Retrieves the balance data of a transformation. This is very useful to check the <strong>stoichiometric coefficients</strong> of a transformation.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.balance_data(thermal_transform, :energy)</code><code class="nohighlight hljs ansi" style="display:block;">Dict{Symbol, Float64} with 3 entries:
  :SE_natural_gas_fired_combined_cycle_1_fuel_edge =&gt; 1.0
  :SE_natural_gas_fired_combined_cycle_1_elec_edge =&gt; 2.13209
  :SE_natural_gas_fired_combined_cycle_1_co2_edge  =&gt; 0.0</code></pre><h3 id="[get_balance](@ref)-3"><a class="docs-heading-anchor" href="#[get_balance](@ref)-3"><a href="../../../References/5_utilities/#get_balance"><code>get_balance</code></a></a><a class="docs-heading-anchor-permalink" href="#[get_balance](@ref)-3" title="Permalink"></a></h3><p>Retrieves the mathematical expression of the balance of a transformation.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.get_balance(thermal_transform, :energy)[1:5]</code><code class="nohighlight hljs ansi" style="display:block;">1-dimensional DenseAxisArray{JuMP.AffExpr,1,...} with index sets:
    Dimension 1, [1, 2, 3, 4, 5]
And data, a 5-element Vector{JuMP.AffExpr}:
 -2.132092034 vFLOW_SE_natural_gas_fired_combined_cycle_1_elec_edge[1] - 295.53638384084 vSTART_SE_natural_gas_fired_combined_cycle_1_elec_edge[1] + vFLOW_SE_natural_gas_fired_combined_cycle_1_fuel_edge[1]
 -2.132092034 vFLOW_SE_natural_gas_fired_combined_cycle_1_elec_edge[2] - 295.53638384084 vSTART_SE_natural_gas_fired_combined_cycle_1_elec_edge[2] + vFLOW_SE_natural_gas_fired_combined_cycle_1_fuel_edge[2]
 -2.132092034 vFLOW_SE_natural_gas_fired_combined_cycle_1_elec_edge[3] - 295.53638384084 vSTART_SE_natural_gas_fired_combined_cycle_1_elec_edge[3] + vFLOW_SE_natural_gas_fired_combined_cycle_1_fuel_edge[3]
 -2.132092034 vFLOW_SE_natural_gas_fired_combined_cycle_1_elec_edge[4] - 295.53638384084 vSTART_SE_natural_gas_fired_combined_cycle_1_elec_edge[4] + vFLOW_SE_natural_gas_fired_combined_cycle_1_fuel_edge[4]
 -2.132092034 vFLOW_SE_natural_gas_fired_combined_cycle_1_elec_edge[5] - 295.53638384084 vSTART_SE_natural_gas_fired_combined_cycle_1_elec_edge[5] + vFLOW_SE_natural_gas_fired_combined_cycle_1_fuel_edge[5]</code></pre><p>We can do the same for the emissions balance equation.</p><h3 id="[balance_data](@ref)-2"><a class="docs-heading-anchor" href="#[balance_data](@ref)-2"><a href="../../../References/5_utilities/#balance_data"><code>balance_data</code></a></a><a class="docs-heading-anchor-permalink" href="#[balance_data](@ref)-2" title="Permalink"></a></h3><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.balance_data(thermal_transform, :emissions)</code><code class="nohighlight hljs ansi" style="display:block;">Dict{Symbol, Float64} with 3 entries:
  :SE_natural_gas_fired_combined_cycle_1_fuel_edge =&gt; 0.181048
  :SE_natural_gas_fired_combined_cycle_1_elec_edge =&gt; 0.0
  :SE_natural_gas_fired_combined_cycle_1_co2_edge  =&gt; 1.0</code></pre><h3 id="[get_balance](@ref)-4"><a class="docs-heading-anchor" href="#[get_balance](@ref)-4"><a href="../../../References/5_utilities/#get_balance"><code>get_balance</code></a></a><a class="docs-heading-anchor-permalink" href="#[get_balance](@ref)-4" title="Permalink"></a></h3><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.get_balance(thermal_transform, :emissions)[1:5]</code><code class="nohighlight hljs ansi" style="display:block;">1-dimensional DenseAxisArray{JuMP.AffExpr,1,...} with index sets:
    Dimension 1, [1, 2, 3, 4, 5]
And data, a 5-element Vector{JuMP.AffExpr}:
 0.181048235160161 vFLOW_SE_natural_gas_fired_combined_cycle_1_fuel_edge[1] - vFLOW_SE_natural_gas_fired_combined_cycle_1_co2_edge[1]
 0.181048235160161 vFLOW_SE_natural_gas_fired_combined_cycle_1_fuel_edge[2] - vFLOW_SE_natural_gas_fired_combined_cycle_1_co2_edge[2]
 0.181048235160161 vFLOW_SE_natural_gas_fired_combined_cycle_1_fuel_edge[3] - vFLOW_SE_natural_gas_fired_combined_cycle_1_co2_edge[3]
 0.181048235160161 vFLOW_SE_natural_gas_fired_combined_cycle_1_fuel_edge[4] - vFLOW_SE_natural_gas_fired_combined_cycle_1_co2_edge[4]
 0.181048235160161 vFLOW_SE_natural_gas_fired_combined_cycle_1_fuel_edge[5] - vFLOW_SE_natural_gas_fired_combined_cycle_1_co2_edge[5]</code></pre><p>The functions available for nodes and edges can also be applied to transformations.</p><h3 id="[all_constraints](@ref)-2"><a class="docs-heading-anchor" href="#[all_constraints](@ref)-2"><a href="../../../References/5_utilities/#all_constraints"><code>all_constraints</code></a></a><a class="docs-heading-anchor-permalink" href="#[all_constraints](@ref)-2" title="Permalink"></a></h3><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.all_constraints(thermal_transform)</code><code class="nohighlight hljs ansi" style="display:block;">1-element Vector{AbstractTypeConstraint}:
 BalanceConstraint(missing, missing, 2-dimensional DenseAxisArray{JuMP.ConstraintRef{Model, MathOptInterface.ConstraintIndex{MathOptInterface.ScalarAffineFunction{Float64}, MathOptInterface.EqualTo{Float64}}, JuMP.ScalarShape},2,...} with index sets:
    Dimension 1, [:emissions, :energy]
    Dimension 2, 1:1:24
And data, a 2×24 Matrix{JuMP.ConstraintRef{Model, MathOptInterface.ConstraintIndex{MathOptInterface.ScalarAffineFunction{Float64}, MathOptInterface.EqualTo{Float64}}, JuMP.ScalarShape}}:
 0.181048235160161 vFLOW_SE_natural_gas_fired_combined_cycle_1_fuel_edge[1] - vFLOW_SE_natural_gas_fired_combined_cycle_1_co2_edge[1] = 0                                                                          …  0.181048235160161 vFLOW_SE_natural_gas_fired_combined_cycle_1_fuel_edge[24] - vFLOW_SE_natural_gas_fired_combined_cycle_1_co2_edge[24] = 0
 -2.132092034 vFLOW_SE_natural_gas_fired_combined_cycle_1_elec_edge[1] - 295.53638384084 vSTART_SE_natural_gas_fired_combined_cycle_1_elec_edge[1] + vFLOW_SE_natural_gas_fired_combined_cycle_1_fuel_edge[1] = 0     -2.132092034 vFLOW_SE_natural_gas_fired_combined_cycle_1_elec_edge[24] - 295.53638384084 vSTART_SE_natural_gas_fired_combined_cycle_1_elec_edge[24] + vFLOW_SE_natural_gas_fired_combined_cycle_1_fuel_edge[24] = 0)</code></pre><h3 id="[all_constraints_types](@ref)-3"><a class="docs-heading-anchor" href="#[all_constraints_types](@ref)-3"><a href="../../../References/5_utilities/#all_constraints_types"><code>all_constraints_types</code></a></a><a class="docs-heading-anchor-permalink" href="#[all_constraints_types](@ref)-3" title="Permalink"></a></h3><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.all_constraints_types(thermal_transform)</code><code class="nohighlight hljs ansi" style="display:block;">1-element Vector{DataType}:
 BalanceConstraint</code></pre><h3 id="[get_constraint_by_type](@ref)-2"><a class="docs-heading-anchor" href="#[get_constraint_by_type](@ref)-2"><a href="../../../References/5_utilities/#get_constraint_by_type"><code>get_constraint_by_type</code></a></a><a class="docs-heading-anchor-permalink" href="#[get_constraint_by_type](@ref)-2" title="Permalink"></a></h3><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.get_constraint_by_type(thermal_transform, BalanceConstraint)</code><code class="nohighlight hljs ansi" style="display:block;">BalanceConstraint(missing, missing, 2-dimensional DenseAxisArray{JuMP.ConstraintRef{Model, MathOptInterface.ConstraintIndex{MathOptInterface.ScalarAffineFunction{Float64}, MathOptInterface.EqualTo{Float64}}, JuMP.ScalarShape},2,...} with index sets:
    Dimension 1, [:emissions, :energy]
    Dimension 2, 1:1:24
And data, a 2×24 Matrix{JuMP.ConstraintRef{Model, MathOptInterface.ConstraintIndex{MathOptInterface.ScalarAffineFunction{Float64}, MathOptInterface.EqualTo{Float64}}, JuMP.ScalarShape}}:
 0.181048235160161 vFLOW_SE_natural_gas_fired_combined_cycle_1_fuel_edge[1] - vFLOW_SE_natural_gas_fired_combined_cycle_1_co2_edge[1] = 0                                                                          …  0.181048235160161 vFLOW_SE_natural_gas_fired_combined_cycle_1_fuel_edge[24] - vFLOW_SE_natural_gas_fired_combined_cycle_1_co2_edge[24] = 0
 -2.132092034 vFLOW_SE_natural_gas_fired_combined_cycle_1_elec_edge[1] - 295.53638384084 vSTART_SE_natural_gas_fired_combined_cycle_1_elec_edge[1] + vFLOW_SE_natural_gas_fired_combined_cycle_1_fuel_edge[1] = 0     -2.132092034 vFLOW_SE_natural_gas_fired_combined_cycle_1_elec_edge[24] - 295.53638384084 vSTART_SE_natural_gas_fired_combined_cycle_1_elec_edge[24] + vFLOW_SE_natural_gas_fired_combined_cycle_1_fuel_edge[24] = 0)</code></pre><h2 id="Working-with-Storages"><a class="docs-heading-anchor" href="#Working-with-Storages">Working with Storages</a><a id="Working-with-Storages-1"></a><a class="docs-heading-anchor-permalink" href="#Working-with-Storages" title="Permalink"></a></h2><div class="admonition is-success" id="Storage-Interface-f51c0cc305d3f94c"><header class="admonition-header">Storage Interface<a class="admonition-anchor" href="#Storage-Interface-f51c0cc305d3f94c" title="Permalink"></a></header><div class="admonition-body"><p>For a comprehensive list of function interfaces available for storage besides <code>id</code>, <code>commodity_type</code> and the ones listed below, users can refer to the <code>storage.jl</code> and the <code>vertex.jl</code> source code.</p></div></div><p>To access the storage component of an asset, utilize the following functions:</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; battery = MacroEnergy.get_asset_by_id(system, :battery_SE);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.print_struct_info(battery)</code><code class="nohighlight hljs ansi" style="display:block;">ERROR: MethodError: no method matching print_struct_info(::Vector{Tuple{Symbol, UnionAll}})
The function `print_struct_info` exists, but no method is defined for this combination of argument types.

Closest candidates are:
  print_struct_info(<span class="sgr91">::Vector{Tuple{Symbol, Type}}</span>)
<span class="sgr90">   @</span> <span class="sgr35">MacroEnergy</span> <span class="sgr90">~/work/MacroEnergy.jl/MacroEnergy.jl/src/model/networks/<span class="sgr4">asset.jl:63</span></span>
  print_struct_info(<span class="sgr91">::Type{&lt;:AbstractAsset}</span>)
<span class="sgr90">   @</span> <span class="sgr35">MacroEnergy</span> <span class="sgr90">~/work/MacroEnergy.jl/MacroEnergy.jl/src/model/networks/<span class="sgr4">asset.jl:58</span></span>
  print_struct_info(<span class="sgr91">::AbstractAsset</span>)
<span class="sgr90">   @</span> <span class="sgr35">MacroEnergy</span> <span class="sgr90">~/work/MacroEnergy.jl/MacroEnergy.jl/src/model/networks/<span class="sgr4">asset.jl:53</span></span></code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; storage = MacroEnergy.get_component_by_fieldname(battery, :battery_storage);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.id(storage)</code><code class="nohighlight hljs ansi" style="display:block;">:battery_SE_storage</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.typeof(storage)</code><code class="nohighlight hljs ansi" style="display:block;">Storage{Electricity}</code></pre><h3 id="[balance_ids](@ref)-4"><a class="docs-heading-anchor" href="#[balance_ids](@ref)-4"><a href="../../../References/5_utilities/#balance_ids"><code>balance_ids</code></a></a><a class="docs-heading-anchor-permalink" href="#[balance_ids](@ref)-4" title="Permalink"></a></h3><p>Retrieves the IDs of all the balance equations in a storage.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.balance_ids(storage)</code><code class="nohighlight hljs ansi" style="display:block;">1-element Vector{Symbol}:
 :storage</code></pre><h3 id="[balance_data](@ref)-3"><a class="docs-heading-anchor" href="#[balance_data](@ref)-3"><a href="../../../References/5_utilities/#balance_data"><code>balance_data</code></a></a><a class="docs-heading-anchor-permalink" href="#[balance_data](@ref)-3" title="Permalink"></a></h3><p>Retrieves the balance data of a storage. This is very useful to check the <strong>stoichiometric coefficients</strong> of a storage.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.balance_data(storage, :storage)</code><code class="nohighlight hljs ansi" style="display:block;">Dict{Symbol, Float64} with 2 entries:
  :battery_SE_discharge_edge =&gt; 1.08696
  :battery_SE_charge_edge    =&gt; 0.92</code></pre><h3 id="[get_balance](@ref)-5"><a class="docs-heading-anchor" href="#[get_balance](@ref)-5"><a href="../../../References/5_utilities/#get_balance"><code>get_balance</code></a></a><a class="docs-heading-anchor-permalink" href="#[get_balance](@ref)-5" title="Permalink"></a></h3><p>Retrieves the mathematical expression of the balance of a storage.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.get_balance(storage, :storage)[1:5]</code><code class="nohighlight hljs ansi" style="display:block;">1-dimensional DenseAxisArray{JuMP.AffExpr,1,...} with index sets:
    Dimension 1, [1, 2, 3, 4, 5]
And data, a 5-element Vector{JuMP.AffExpr}:
 -vSTOR_battery_SE_storage[1] + vSTOR_battery_SE_storage[12] - 1.0869565217391304 vFLOW_battery_SE_discharge_edge[1] + 0.92 vFLOW_battery_SE_charge_edge[1]
 -vSTOR_battery_SE_storage[2] + vSTOR_battery_SE_storage[1] - 1.0869565217391304 vFLOW_battery_SE_discharge_edge[2] + 0.92 vFLOW_battery_SE_charge_edge[2]
 -vSTOR_battery_SE_storage[3] + vSTOR_battery_SE_storage[2] - 1.0869565217391304 vFLOW_battery_SE_discharge_edge[3] + 0.92 vFLOW_battery_SE_charge_edge[3]
 -vSTOR_battery_SE_storage[4] + vSTOR_battery_SE_storage[3] - 1.0869565217391304 vFLOW_battery_SE_discharge_edge[4] + 0.92 vFLOW_battery_SE_charge_edge[4]
 -vSTOR_battery_SE_storage[5] + vSTOR_battery_SE_storage[4] - 1.0869565217391304 vFLOW_battery_SE_discharge_edge[5] + 0.92 vFLOW_battery_SE_charge_edge[5]</code></pre><p>The same set of functions that we have seen for nodes, edges, and transformations are also available for storages.</p><h3 id="[all_constraints_types](@ref)-4"><a class="docs-heading-anchor" href="#[all_constraints_types](@ref)-4"><a href="../../../References/5_utilities/#all_constraints_types"><code>all_constraints_types</code></a></a><a class="docs-heading-anchor-permalink" href="#[all_constraints_types](@ref)-4" title="Permalink"></a></h3><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.all_constraints_types(storage)</code><code class="nohighlight hljs ansi" style="display:block;">5-element Vector{DataType}:
 StorageMinDurationConstraint
 StorageCapacityConstraint
 StorageMaxDurationConstraint
 StorageSymmetricCapacityConstraint
 BalanceConstraint</code></pre><h3 id="[get_constraint_by_type](@ref)-3"><a class="docs-heading-anchor" href="#[get_constraint_by_type](@ref)-3"><a href="../../../References/5_utilities/#get_constraint_by_type"><code>get_constraint_by_type</code></a></a><a class="docs-heading-anchor-permalink" href="#[get_constraint_by_type](@ref)-3" title="Permalink"></a></h3><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.get_constraint_by_type(storage, BalanceConstraint)</code><code class="nohighlight hljs ansi" style="display:block;">BalanceConstraint(missing, missing, 2-dimensional DenseAxisArray{JuMP.ConstraintRef{Model, MathOptInterface.ConstraintIndex{MathOptInterface.ScalarAffineFunction{Float64}, MathOptInterface.EqualTo{Float64}}, JuMP.ScalarShape},2,...} with index sets:
    Dimension 1, [:storage]
    Dimension 2, 1:1:24
And data, a 1×24 Matrix{JuMP.ConstraintRef{Model, MathOptInterface.ConstraintIndex{MathOptInterface.ScalarAffineFunction{Float64}, MathOptInterface.EqualTo{Float64}}, JuMP.ScalarShape}}:
 -vSTOR_battery_SE_storage[1] + vSTOR_battery_SE_storage[12] - 1.0869565217391304 vFLOW_battery_SE_discharge_edge[1] + 0.92 vFLOW_battery_SE_charge_edge[1] = 0  …  vSTOR_battery_SE_storage[23] - vSTOR_battery_SE_storage[24] - 1.0869565217391304 vFLOW_battery_SE_discharge_edge[24] + 0.92 vFLOW_battery_SE_charge_edge[24] = 0)</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; constraint = MacroEnergy.get_constraint_by_type(storage, StorageCapacityConstraint);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.constraint_ref(constraint)[1:5]</code><code class="nohighlight hljs ansi" style="display:block;">1-dimensional DenseAxisArray{JuMP.ConstraintRef{Model, MathOptInterface.ConstraintIndex{MathOptInterface.ScalarAffineFunction{Float64}, MathOptInterface.LessThan{Float64}}, JuMP.ScalarShape},1,...} with index sets:
    Dimension 1, [1, 2, 3, 4, 5]
And data, a 5-element Vector{JuMP.ConstraintRef{Model, MathOptInterface.ConstraintIndex{MathOptInterface.ScalarAffineFunction{Float64}, MathOptInterface.LessThan{Float64}}, JuMP.ScalarShape}}:
 -vNEWUNIT_battery_SE_storage + vRETUNIT_battery_SE_storage + vSTOR_battery_SE_storage[1] ≤ 0
 -vNEWUNIT_battery_SE_storage + vRETUNIT_battery_SE_storage + vSTOR_battery_SE_storage[2] ≤ 0
 -vNEWUNIT_battery_SE_storage + vRETUNIT_battery_SE_storage + vSTOR_battery_SE_storage[3] ≤ 0
 -vNEWUNIT_battery_SE_storage + vRETUNIT_battery_SE_storage + vSTOR_battery_SE_storage[4] ≤ 0
 -vNEWUNIT_battery_SE_storage + vRETUNIT_battery_SE_storage + vSTOR_battery_SE_storage[5] ≤ 0</code></pre><h3 id="storage_level"><a class="docs-heading-anchor" href="#storage_level"><code>storage_level</code></a><a id="storage_level-1"></a><a class="docs-heading-anchor-permalink" href="#storage_level" title="Permalink"></a></h3><p>Retrieves the storage level variables of a storage component.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; storage_level = MacroEnergy.storage_level(storage);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.value.(storage_level)[1:5]</code><code class="nohighlight hljs ansi" style="display:block;">1-dimensional DenseAxisArray{Float64,1,...} with index sets:
    Dimension 1, [1, 2, 3, 4, 5]
And data, a 5-element Vector{Float64}:
  8016.143766332925
 13017.780070535453
 13017.780070535453
 13017.780070535453
 13017.780070535453</code></pre><h3 id="charge_edge"><a class="docs-heading-anchor" href="#charge_edge"><code>charge_edge</code></a><a id="charge_edge-1"></a><a class="docs-heading-anchor-permalink" href="#charge_edge" title="Permalink"></a></h3><p>Retrieves the charge edge connected to a storage component.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; charge_edge = MacroEnergy.charge_edge(storage);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.id(charge_edge)</code><code class="nohighlight hljs ansi" style="display:block;">:battery_SE_charge_edge</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.typeof(charge_edge)</code><code class="nohighlight hljs ansi" style="display:block;">Edge{Electricity}</code></pre><h3 id="discharge_edge"><a class="docs-heading-anchor" href="#discharge_edge"><code>discharge_edge</code></a><a id="discharge_edge-1"></a><a class="docs-heading-anchor-permalink" href="#discharge_edge" title="Permalink"></a></h3><p>Retrieves the discharge edge connected to a storage component.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; discharge_edge = MacroEnergy.discharge_edge(storage);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.id(discharge_edge)</code><code class="nohighlight hljs ansi" style="display:block;">:battery_SE_discharge_edge</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.typeof(discharge_edge)</code><code class="nohighlight hljs ansi" style="display:block;">Edge{Electricity}</code></pre><h3 id="spillage_edge"><a class="docs-heading-anchor" href="#spillage_edge"><code>spillage_edge</code></a><a id="spillage_edge-1"></a><a class="docs-heading-anchor-permalink" href="#spillage_edge" title="Permalink"></a></h3><p>Retrieves the spillage edge connected to a storage component (applicable to hydro reservoirs).</p><pre><code class="language-julia hljs">julia&gt; MacroEnergy.spillage_edge(storage)</code></pre><h2 id="Time-Management"><a class="docs-heading-anchor" href="#Time-Management">Time Management</a><a id="Time-Management-1"></a><a class="docs-heading-anchor-permalink" href="#Time-Management" title="Permalink"></a></h2><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; vertex = MacroEnergy.find_node(system.locations, :elec_SE);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; edge = MacroEnergy.get_component_by_fieldname(thermal_plant, :elec_edge);</code></pre><h3 id="time_interval"><a class="docs-heading-anchor" href="#time_interval"><code>time_interval</code></a><a id="time_interval-1"></a><a class="docs-heading-anchor-permalink" href="#time_interval" title="Permalink"></a></h3><p>Retrieves the time interval of a vertex/edge.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.time_interval(vertex)</code><code class="nohighlight hljs ansi" style="display:block;">1:1:24</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.time_interval(edge)</code><code class="nohighlight hljs ansi" style="display:block;">1:1:24</code></pre><h3 id="period_map"><a class="docs-heading-anchor" href="#period_map"><code>period_map</code></a><a id="period_map-1"></a><a class="docs-heading-anchor-permalink" href="#period_map" title="Permalink"></a></h3><p>Retrieves the period map of a vertex/edge.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.period_map(vertex)</code><code class="nohighlight hljs ansi" style="display:block;">Dict{Int64, Int64} with 52 entries:
  5  =&gt; 6
  16 =&gt; 17
  20 =&gt; 17
  35 =&gt; 6
  30 =&gt; 6
  19 =&gt; 17
  32 =&gt; 6
  49 =&gt; 6
  6  =&gt; 6
  45 =&gt; 6
  44 =&gt; 6
  9  =&gt; 6
  31 =&gt; 6
  29 =&gt; 6
  46 =&gt; 6
  4  =&gt; 6
  13 =&gt; 17
  21 =&gt; 17
  38 =&gt; 6
  ⋮  =&gt; ⋮</code></pre><h3 id="modeled_subperiods"><a class="docs-heading-anchor" href="#modeled_subperiods"><code>modeled_subperiods</code></a><a id="modeled_subperiods-1"></a><a class="docs-heading-anchor-permalink" href="#modeled_subperiods" title="Permalink"></a></h3><p>Retrieves the modeled subperiods of a vertex/edge.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.modeled_subperiods(vertex)</code><code class="nohighlight hljs ansi" style="display:block;">52-element Vector{Int64}:
  1
  2
  3
  4
  5
  6
  7
  8
  9
 10
  ⋮
 44
 45
 46
 47
 48
 49
 50
 51
 52</code></pre><h3 id="current_subperiod"><a class="docs-heading-anchor" href="#current_subperiod"><code>current_subperiod</code></a><a id="current_subperiod-1"></a><a class="docs-heading-anchor-permalink" href="#current_subperiod" title="Permalink"></a></h3><p>Retrieves the subperiod a given time step belongs to for the time series attached to a given vertex/edge.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.current_subperiod(vertex, 7)</code><code class="nohighlight hljs ansi" style="display:block;">6</code></pre><h3 id="subperiods"><a class="docs-heading-anchor" href="#subperiods"><code>subperiods</code></a><a id="subperiods-1"></a><a class="docs-heading-anchor-permalink" href="#subperiods" title="Permalink"></a></h3><p>Retrieves the subperiods of the time series attached to a vertex/edge.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.subperiods(vertex)</code><code class="nohighlight hljs ansi" style="display:block;">2-element Vector{StepRange{Int64, Int64}}:
 1:1:12
 13:1:24</code></pre><h3 id="subperiod_indices"><a class="docs-heading-anchor" href="#subperiod_indices"><code>subperiod_indices</code></a><a id="subperiod_indices-1"></a><a class="docs-heading-anchor-permalink" href="#subperiod_indices" title="Permalink"></a></h3><p>Retrieves the indices of the subperiods of the time series attached to a vertex/edge.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.subperiod_indices(vertex)</code><code class="nohighlight hljs ansi" style="display:block;">2-element Vector{Int64}:
  6
 17</code></pre><h3 id="get_subperiod"><a class="docs-heading-anchor" href="#get_subperiod"><code>get_subperiod</code></a><a id="get_subperiod-1"></a><a class="docs-heading-anchor-permalink" href="#get_subperiod" title="Permalink"></a></h3><p>Retrieves the subperiod of a vertex/edge for a given index.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.get_subperiod(vertex, 6)</code><code class="nohighlight hljs ansi" style="display:block;">1:1:12</code></pre><h3 id="subperiod_weight"><a class="docs-heading-anchor" href="#subperiod_weight"><code>subperiod_weight</code></a><a id="subperiod_weight-1"></a><a class="docs-heading-anchor-permalink" href="#subperiod_weight" title="Permalink"></a></h3><p>Retrieves the weight of a subperiod of a vertex/edge for a given index.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; MacroEnergy.subperiod_weight(vertex, 17)</code><code class="nohighlight hljs ansi" style="display:block;">182.5</code></pre><h2 id="Results-Collection"><a class="docs-heading-anchor" href="#Results-Collection">Results Collection</a><a id="Results-Collection-1"></a><a class="docs-heading-anchor-permalink" href="#Results-Collection" title="Permalink"></a></h2><h3 id="[collect_results](@ref)"><a class="docs-heading-anchor" href="#[collect_results](@ref)"><a href="../../../References/4_writing_output/#collect_results"><code>collect_results</code></a></a><a id="[collect_results](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[collect_results](@ref)" title="Permalink"></a></h3><p>Collects all the results from the model as a DataFrame:</p><ul><li>All the capacity variables/expressions (capacity, new_capacity, retired_capacity)</li><li>All the flow variables (flow)</li><li>Non-served demand variables (non_served_demand)</li><li>Storage level variables (storage_level)</li><li>Costs (costs)</li></ul><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; results = MacroEnergy.collect_results(system, model);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; first(results, 5)</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr1">5×12 DataFrame</span>
<span class="sgr1"> Row </span>│<span class="sgr1"> case_name  commodity    commodity_subtype  zone        resource_id    c</span> ⋯
     │<span class="sgr90"> Missing    Symbol       Symbol             Symbol      Symbol         S</span> ⋯
─────┼──────────────────────────────────────────────────────────────────────────
   1 │<span class="sgr90">   missing </span> Electricity  capacity           elec_SE     battery_SE     b ⋯
   2 │<span class="sgr90">   missing </span> Electricity  capacity           elec_SE     battery_SE     b
   3 │<span class="sgr90">   missing </span> Electricity  capacity           elec_SE     battery_SE     b
   4 │<span class="sgr90">   missing </span> Electricity  capacity           elec_MIDAT  battery_MIDAT  b
   5 │<span class="sgr90">   missing </span> Electricity  capacity           elec_MIDAT  battery_MIDAT  b ⋯
<span class="sgr36">                                                               7 columns omitted</span></code></pre><h3 id="[reshape_wide](@ref)"><a class="docs-heading-anchor" href="#[reshape_wide](@ref)"><a href="../../../References/5_utilities/#reshape_wide"><code>reshape_wide</code></a></a><a id="[reshape_wide](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[reshape_wide](@ref)" title="Permalink"></a></h3><p>Reshapes the results to wide format.</p><pre><code class="language-julia-repl hljs" style="display:block;">julia&gt; capacity_results = MacroEnergy.get_optimal_capacity(system; scaling=1e3);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; new_capacity_results = MacroEnergy.get_optimal_new_capacity(system; scaling=1e3);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; retired_capacity_results = MacroEnergy.get_optimal_retired_capacity(system; scaling=1e3);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; all_capacity_results = vcat(capacity_results, new_capacity_results, retired_capacity_results);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; df_wide = MacroEnergy.reshape_wide(all_capacity_results);</code><br/><code class="language-julia-repl hljs" style="display:block;">julia&gt; df_wide[1:5, [:commodity, :resource_id, :capacity, :new_capacity, :retired_capacity]]</code><code class="nohighlight hljs ansi" style="display:block;"><span class="sgr1">5×5 DataFrame</span>
<span class="sgr1"> Row </span>│<span class="sgr1"> commodity    resource_id        capacity   new_capacity  retired_capaci</span> ⋯
     │<span class="sgr90"> Symbol       Symbol             Float64?   Float64?      Float64?      </span> ⋯
─────┼──────────────────────────────────────────────────────────────────────────
   1 │ Electricity  battery_SE         1.18133e7     1.18133e7               0 ⋯
   2 │ Electricity  battery_MIDAT      0.0           0.0                     0
   3 │ Electricity  battery_NE         0.0           0.0                     0
   4 │ Electricity  pumpedhydro_SE     6.26198e6     0.0                     0
   5 │ Electricity  pumpedhydro_MIDAT  5.244e6       0.0                     0 ⋯
<span class="sgr36">                                                                1 column omitted</span></code></pre><h3 id="[write_flow](@ref)"><a class="docs-heading-anchor" href="#[write_flow](@ref)"><a href="../../../References/4_writing_output/#write_flow"><code>write_flow</code></a></a><a id="[write_flow](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[write_flow](@ref)" title="Permalink"></a></h3><p>Writes the flow results to a (CSV, CSV.GZ, or Parquet) file. An optional <code>commodity</code> and <code>asset</code> type filter can be applied.</p><pre><code class="language-julia hljs">julia&gt; write_flow(&quot;flow.csv&quot;, system)
# Filter by commodity: write only the flow of edges of commodity &quot;Electricity&quot;
julia&gt; write_flow(&quot;flow.csv&quot;, system, commodity=&quot;Electricity&quot;)
# Filter by commodity and asset type using parameter-free matching
julia&gt; write_flow(&quot;flow.csv&quot;, system, commodity=&quot;Electricity&quot;, asset_type=&quot;ThermalPower&quot;)
# Filter by commodity and asset type using wildcard matching
julia&gt; write_flow(&quot;flow.csv&quot;, system, commodity=&quot;Electricity&quot;, asset_type=&quot;ThermalPower*&quot;)</code></pre><h3 id="[write_capacity](@ref)"><a class="docs-heading-anchor" href="#[write_capacity](@ref)"><a href="../../../References/4_writing_output/#write_capacity"><code>write_capacity</code></a></a><a id="[write_capacity](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[write_capacity](@ref)" title="Permalink"></a></h3><p>Writes the capacity results to a (CSV, CSV.GZ, or Parquet) file. An optional <code>commodity</code> and <code>asset</code> type filter can be applied.</p><pre><code class="language-julia hljs">julia&gt; write_capacity(&quot;capacity.csv&quot;, system)
# Filter by commodity: write only the capacity of edges of commodity &quot;Electricity&quot;
julia&gt; write_capacity(&quot;capacity.csv&quot;, system, commodity=&quot;Electricity&quot;)
# Filter by commodity and asset type using parameter-free matching
julia&gt; write_capacity(&quot;capacity.csv&quot;, system, asset_type=&quot;ThermalPower&quot;)
# Filter by asset type using wildcard matching
julia&gt; write_capacity(&quot;capacity.csv&quot;, system, asset_type=&quot;ThermalPower*&quot;)
# Filter by commodity and asset type
julia&gt; write_capacity(&quot;capacity.csv&quot;, system, commodity=&quot;Electricity&quot;, asset_type=[&quot;ThermalPower&quot;, &quot;Battery&quot;])</code></pre><h3 id="[write_costs](@ref)"><a class="docs-heading-anchor" href="#[write_costs](@ref)"><a href="../../../References/4_writing_output/#write_costs"><code>write_costs</code></a></a><a id="[write_costs](@ref)-1"></a><a class="docs-heading-anchor-permalink" href="#[write_costs](@ref)" title="Permalink"></a></h3><p>Writes the costs results to a (CSV, CSV.GZ, or Parquet) file. An optional <code>type</code> filter can be applied.</p><pre><code class="language-julia hljs">julia&gt; write_costs(&quot;costs.csv&quot;, system)</code></pre><script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
mermaid.initialize({
    startOnLoad: true,
    theme: "neutral"
});
</script></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../modeler_workflow/">« Suggested Development Workflow</a><a class="docs-footer-nextpage" href="../../Developer Guide/dev_create_constraint/">Creating a Constraint »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.12.0 on <span class="colophon-date" title="Thursday 12 June 2025 14:38">Thursday 12 June 2025</span>. Using Julia version 1.11.5.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
