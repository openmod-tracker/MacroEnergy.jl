<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Multi-Period Accounting · Macro</title><meta name="title" content="Multi-Period Accounting · Macro"/><meta property="og:title" content="Multi-Period Accounting · Macro"/><meta property="twitter:title" content="Multi-Period Accounting · Macro"/><meta name="description" content="Documentation for Macro."/><meta property="og:description" content="Documentation for Macro."/><meta property="twitter:description" content="Documentation for Macro."/><meta property="og:url" content="https://macroenergy.github.io/Macro/stable/Manual/Multi_period_accounting/"/><meta property="twitter:url" content="https://macroenergy.github.io/Macro/stable/Manual/Multi_period_accounting/"/><link rel="canonical" href="https://macroenergy.github.io/Macro/stable/Manual/Multi_period_accounting/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Macro</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><input class="collapse-toggle" id="menuitem-1" type="checkbox"/><label class="tocitem" for="menuitem-1"><span class="docs-label">Welcome to Macro</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../">Introduction</a></li><li><a class="tocitem" href="../../table_of_contents/">Table of contents</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Getting Started</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Getting Started/1_overview/">Overview</a></li><li><a class="tocitem" href="../../Getting Started/2_installation/">Installation</a></li><li><a class="tocitem" href="../../Getting Started/4_macro_repo_contents/">What&#39;s Included With Macro</a></li><li><a class="tocitem" href="../../Getting Started/3_first_run/">First Run</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Tutorials/tutorials_introduction/">Introduction</a></li><li><a class="tocitem" href="../../Tutorials/0_getting_started/">Getting Started</a></li><li><a class="tocitem" href="../../Tutorials/1_running_macro/">Running Macro</a></li><li><a class="tocitem" href="../../Tutorials/2_multisector_modelling/">Multisector Modelling</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Guides</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Guides/guides_introduction/">Introduction</a></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">User Guide</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Guides/User Guide/user_build_system/">Create a System</a></li><li><a class="tocitem" href="../../Guides/User Guide/user_add_commodity/">Adding Commodities</a></li><li><a class="tocitem" href="../../Guides/User Guide/user_add_node/">Adding Nodes</a></li><li><a class="tocitem" href="../../Guides/User Guide/user_add_location/">Adding Locations</a></li><li><a class="tocitem" href="../../Guides/User Guide/user_add_asset/">Adding Assets</a></li><li><a class="tocitem" href="../../Guides/User Guide/user_policy_constraints/">Adding Policy constraints</a></li><li><a class="tocitem" href="../../Guides/User Guide/user_asset_constraints/">Adding Assets constraints</a></li><li><a class="tocitem" href="../../Guides/User Guide/user_settings/">Configuring Settings</a></li><li><a class="tocitem" href="../../Guides/User Guide/user_run_model/">Running Models</a></li><li><a class="tocitem" href="../../Guides/User Guide/user_write_results/">Writing Results</a></li><li><a class="tocitem" href="../../Guides/User Guide/user_multiperiod/">Using Multi-Period Models</a></li><li><a class="tocitem" href="../../Guides/User Guide/user_using_asset_libary/">Exploring the Asset library</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox"/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">Modeler Guide</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Guides/Modeler Guide/modeler_introduction/">Introduction</a></li><li><a class="tocitem" href="../../Guides/Modeler Guide/modeler_es_graph/">Energy System Graph-Based Representation</a></li><li><a class="tocitem" href="../../Guides/Modeler Guide/modeler_build_sectors/">Creating a New Sector</a></li><li><a class="tocitem" href="../../Guides/Modeler Guide/modeler_build_asset/">Creating a New Asset</a></li><li><a class="tocitem" href="../../Guides/Modeler Guide/modeler_create_example_case/">Creating a New Example Case</a></li><li><a class="tocitem" href="../../Guides/Modeler Guide/modeler_workflow/">Suggested Development Workflow</a></li><li><a class="tocitem" href="../../Guides/Modeler Guide/modeler_debugging_testing/">Debugging and Testing Tips</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-4" type="checkbox"/><label class="tocitem" for="menuitem-4-4"><span class="docs-label">Developer Guide</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Guides/Developer Guide/dev_create_constraint/">Creating a Constraint</a></li><li><a class="tocitem" href="../../Guides/Developer Guide/2_type_hierarchy/">Type Hierarchy</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox" checked/><label class="tocitem" for="menuitem-5"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../manual_introduction/">Introduction</a></li><li><a class="tocitem" href="../Inputs/">Inputs</a></li><li><a class="tocitem" href="../Outputs/">Outputs</a></li><li><a class="tocitem" href="../System/">System</a></li><li><a class="tocitem" href="../Model/">Model</a></li><li><a class="tocitem" href="../Sectors/">Sectors</a></li><li><a class="tocitem" href="../Edges/">Edges</a></li><li><a class="tocitem" href="../Nodes/">Nodes</a></li><li><a class="tocitem" href="../Storage/">Storage</a></li><li><a class="tocitem" href="../Transformations/">Transformations</a></li><li><a class="tocitem" href="../Locations/">Locations</a></li><li><a class="tocitem" href="../Constraints/">Constraints</a></li><li><a class="tocitem" href="../Commodities/">Commodities</a></li><li><a class="tocitem" href="../assets/1_introduction/">Assets</a></li><li><input class="collapse-toggle" id="menuitem-5-15" type="checkbox"/><label class="tocitem" for="menuitem-5-15"><span class="docs-label">Asset Library</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../assets/battery/">Battery</a></li><li><a class="tocitem" href="../assets/beccselectricity/">BECCS Electricity</a></li><li><a class="tocitem" href="../assets/beccshydrogen/">BECCS Hydrogen</a></li><li><a class="tocitem" href="../assets/electricdac/">Electric DAC</a></li><li><a class="tocitem" href="../assets/electrolyzer/">Electrolyzer</a></li><li><a class="tocitem" href="../assets/fuelcell/">Fuel Cell</a></li><li><a class="tocitem" href="../assets/gasstorage/">Gas Storage</a></li><li><a class="tocitem" href="../assets/hydrogenline/">Hydrogen Line</a></li><li><a class="tocitem" href="../assets/hydropower/">Hydro Reservoir</a></li><li><a class="tocitem" href="../assets/mustrun/">Must Run</a></li><li><a class="tocitem" href="../assets/natgasdaq/">Natural Gas DAC</a></li><li><a class="tocitem" href="../assets/transmissionlink/">Transmission Link</a></li><li><a class="tocitem" href="../assets/thermalhydrogen/">Thermal Hydrogen Plant (with and without CCS)</a></li><li><a class="tocitem" href="../assets/thermalpower/">Thermal Power Plant (with and without CCS)</a></li><li><a class="tocitem" href="../assets/vre/">Variable Renewable Energy resources (VRE)</a></li></ul></li><li><a class="tocitem" href="../Financial_assumptions/">Financial Assumptions</a></li><li class="is-active"><a class="tocitem" href>Multi-Period Accounting</a><ul class="internal"><li class="toplevel"><a class="tocitem" href="#Discounting"><span>Discounting</span></a></li><li><a class="tocitem" href="#Perfect-foresight"><span>Perfect foresight</span></a></li><li><a class="tocitem" href="#Fixed-O-and-M-cost"><span>Fixed O&amp;M cost</span></a></li><li><a class="tocitem" href="#Variable-cost"><span>Variable cost</span></a></li><li><a class="tocitem" href="#Myopic"><span>Myopic</span></a></li><li class="toplevel"><a class="tocitem" href="#Cost-outputs"><span>Cost outputs</span></a></li></ul></li></ul></li><li><a class="tocitem" href="../../how_to_contribute/">How to contribute</a></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox"/><label class="tocitem" for="menuitem-7"><span class="docs-label">References</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../References/1_introduction/">Introduction</a></li><li><a class="tocitem" href="../../References/2_reading_input/">Reading input data</a></li><li><a class="tocitem" href="../../References/3_macro_objects/">Macro Objects</a></li><li><a class="tocitem" href="../../References/4_writing_output/">Writing output data</a></li><li><a class="tocitem" href="../../References/5_utilities/">Utilities</a></li><li><a class="tocitem" href="../../References/ref_download_examples/">Downloading examples</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>Multi-Period Accounting</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Multi-Period Accounting</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/macroenergy/MacroEnergy.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/macroenergy/MacroEnergy.jl/blob/main/docs/src/Manual/Multi_period_accounting.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="General-assumptions-made-by-Macro"><a class="docs-heading-anchor" href="#General-assumptions-made-by-Macro">General assumptions made by Macro</a><a id="General-assumptions-made-by-Macro-1"></a><a class="docs-heading-anchor-permalink" href="#General-assumptions-made-by-Macro" title="Permalink"></a></h1><p><strong>Planning periods</strong> (also referred to as &quot;periods&quot;) can include multiple years. The number of years can vary between planning periods. (This has implications for how to aggregate variable and O&amp;M costs within a period, see below.)</p><p><strong>Timing of capacity deployment</strong>: New capacity comes online instantaneously at the beginning of a period. </p><p><strong>Representativeness of modeled year</strong>: Each period is modeled using one year; i.e., the modeled energy production occurs over the course of a single year. In cases where a period covers multiple years, period-wide costs are based on a scaling of the modeled annual costs. The current assumption in Macro is that the year modeled is representative. Thus, variable costs over a period represent annual costs multiplied by the number of years (subject to discounting, see below). This assumption can have important implications for the accuracy of the period-wide costs if conditions within the system are expected to be changing within a given period. For example, if demand grows over the period and the demand inputted by the user represents the final year of the modeled period, the current approach can overestimate variable costs incurred in the beginning of the period. The recommended practice would be to define periods such that conditions within a period do not change meaningfully between the years of the period. </p><p><strong>Age-based retirement</strong>: A unit of capacity reaching end-of-life within period <span>$i$</span> will retire at the beginning of period <span>$i+1$</span>, and so will be available for the entirety of period <span>$i$</span>.  If the user intends to capture retirements within a period, the recommended approach would be to define different periods for this purpose.</p><p><strong>Economic retirement</strong>: A unit of capacity that is retired for economic reasons in a given period <span>$i$</span> is assumed to be retired as of the beginning of the first year of period <span>$i$</span>. This means that retired capacity incurs no O&amp;M costs in that period.</p><p><strong>Timing of cost incidence</strong>: All annual costs (investment, variable, and O&amp;M costs) are assumed to be incurred at the end of the respective year. (This has implications for how costs are discounted.)</p><p><strong>Time value of money</strong>: The objective function is expressed in <em>present value</em> terms from the standpoint of the beginning of the modeling horizon; i.e., all costs are discounted to that point (see discounting below). </p><p><strong>Inflation</strong>: The objective function is expressed in <em>real dollars</em>. The choice of dollar year is up to the user, but all cost inputs should be expressed in the same dollar-year terms. </p><h1 id="Discounting"><a class="docs-heading-anchor" href="#Discounting">Discounting</a><a id="Discounting-1"></a><a class="docs-heading-anchor-permalink" href="#Discounting" title="Permalink"></a></h1><h2 id="Perfect-foresight"><a class="docs-heading-anchor" href="#Perfect-foresight">Perfect foresight</a><a id="Perfect-foresight-1"></a><a class="docs-heading-anchor-permalink" href="#Perfect-foresight" title="Permalink"></a></h2><h3 id="Investment-cost"><a class="docs-heading-anchor" href="#Investment-cost">Investment cost</a><a id="Investment-cost-1"></a><a class="docs-heading-anchor-permalink" href="#Investment-cost" title="Permalink"></a></h3><p>The total investment cost in the objective function is expressed as:</p><p class="math-container">\[\text{Investment cost} = \sum_y \sum_z \sum_i \sum_{j=1}^{P_i} \frac{1}{(1+DR)^{j+N_i}} \text{Annualized investment cost}_{y,z,i}\]</p><p>where: </p><ul><li><p class="math-container">\[\text{Annualized investment cost}_{y,z,i}\]</p>represents the product of annualized cost per unit of capacity and the amount of capacity deployed.</li><li><p class="math-container">\[y\]</p>indexes technologies, <span>$z$</span> indexes zones, and <span>$i$</span> indexes periods.</li><li>DR represents the general discount rate (which can equivalently be referred to as the social discount rate)</li><li><p class="math-container">\[N_i\]</p>is the number of years from the beginning of the modeling horizon to the first year of period <span>$i$</span>.</li></ul><p class="math-container">\[N_i = \sum_{i=1}^{i-1}L_i\]</p><ul><li><p class="math-container">\[L_i\]</p>is the number of years in period <span>$i$</span></li><li><p class="math-container">\[P_i\]</p>is the minimum of the economic lifetime or the total number of years across all remaining periods.</li></ul><p class="math-container">\[P_i = \min(EL_y, \sum_{i}^{|I|}L_i)\]</p><h2 id="Fixed-O-and-M-cost"><a class="docs-heading-anchor" href="#Fixed-O-and-M-cost">Fixed O&amp;M cost</a><a id="Fixed-O-and-M-cost-1"></a><a class="docs-heading-anchor-permalink" href="#Fixed-O-and-M-cost" title="Permalink"></a></h2><p class="math-container">\[\text{Fixed O\&amp;M cost} = \sum_i^{|I|} \sum_{j=1}^{L_i} \frac{1}{(1+DR)^{j+N_i}} \text{Annual Fixed O\&amp;M cost}_i\]</p><h2 id="Variable-cost"><a class="docs-heading-anchor" href="#Variable-cost">Variable cost</a><a id="Variable-cost-1"></a><a class="docs-heading-anchor-permalink" href="#Variable-cost" title="Permalink"></a></h2><p>Annual costs must be summed over periods <span>$i$</span>, based on the number of years within each period <span>$L_i$</span>, and discounted:</p><p class="math-container">\[\text{Variable cost} = \sum_i^{|I|} \sum_{j=1}^{L_i} \frac{1}{(1+DR)^{j+N_i}} \text{Annual variable cost}_i\]</p><h2 id="Myopic"><a class="docs-heading-anchor" href="#Myopic">Myopic</a><a id="Myopic-1"></a><a class="docs-heading-anchor-permalink" href="#Myopic" title="Permalink"></a></h2><h3 id="Investment-cost-2"><a class="docs-heading-anchor" href="#Investment-cost-2">Investment cost</a><a class="docs-heading-anchor-permalink" href="#Investment-cost-2" title="Permalink"></a></h3><p class="math-container">\[\text{Investment cost}_i = \sum_y^{|G|} \sum_z^{|Z|} \sum_{j=1}^{P_i} \frac{1}{(1+DR)^{j+N_i}} \text{Annualized investment cost}\]</p><p>where:</p><p class="math-container">\[P_i\]</p><p>is the minimum of the economic lifetime or the total number of years in the period (a period will typically be shorter in duration than the economic lifetime). </p><p class="math-container">\[P_i = \min(EL_y, L_i)\]</p><p>Note that the costs reported out of the model add back annuities not considered by the myopic foresight, to enable comparisons with the perfect foresight case. In other words, the reported investment cost is calculated using <span>$P_i = \min(EL_y, \sum_{i}^{|I|}L_i)$</span>.</p><h3 id="Fixed-O-and-M-costs"><a class="docs-heading-anchor" href="#Fixed-O-and-M-costs">Fixed O&amp;M costs</a><a id="Fixed-O-and-M-costs-1"></a><a class="docs-heading-anchor-permalink" href="#Fixed-O-and-M-costs" title="Permalink"></a></h3><p class="math-container">\[\text{Fixed O\&amp;M cost}_i = \sum_{j=1}^{L_i} \frac{1}{(1+DR)^{j+N_i}} \text{Annual Fixed O\&amp;M cost}_i\]</p><h3 id="Variable-cost-2"><a class="docs-heading-anchor" href="#Variable-cost-2">Variable cost</a><a class="docs-heading-anchor-permalink" href="#Variable-cost-2" title="Permalink"></a></h3><p class="math-container">\[\text{Variable cost}_i = \sum_{j=1}^{L_i} \frac{1}{(1+DR)^{j+N_i}} \text{Annual variable cost}_i\]</p><h1 id="Cost-outputs"><a class="docs-heading-anchor" href="#Cost-outputs">Cost outputs</a><a id="Cost-outputs-1"></a><a class="docs-heading-anchor-permalink" href="#Cost-outputs" title="Permalink"></a></h1><p>Reported in two forms:</p><ul><li><strong>Discounted</strong> costs are reported in &quot;costs.csv&quot;. These expressed in present value terms from the perspective of the beginning of the modeling horizon (this corresponds to the values considered in the objective function)</li><li><strong>Undiscounted</strong>: expressed in present value terms from the perspective of the point in time when the costs incurred.</li></ul><p>All reported cost components for a given period represent costs for the whole period; i..e, costs are not in annual terms. Users can multiply these outputs by the appropriate coefficients (based no number of years in each period) to estimate annual costs from the reported data.</p><script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
mermaid.initialize({
    startOnLoad: true,
    theme: "neutral"
});
</script></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../Financial_assumptions/">« Financial Assumptions</a><a class="docs-footer-nextpage" href="../../how_to_contribute/">How to contribute »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Friday 18 July 2025 16:03">Friday 18 July 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
