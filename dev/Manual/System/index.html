<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>System · Macro</title><meta name="title" content="System · Macro"/><meta property="og:title" content="System · Macro"/><meta property="twitter:title" content="System · Macro"/><meta name="description" content="Documentation for Macro."/><meta property="og:description" content="Documentation for Macro."/><meta property="twitter:description" content="Documentation for Macro."/><meta property="og:url" content="https://macroenergy.github.io/Macro/stable/Manual/System/"/><meta property="twitter:url" content="https://macroenergy.github.io/Macro/stable/Manual/System/"/><link rel="canonical" href="https://macroenergy.github.io/Macro/stable/Manual/System/"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit"><a href="../../">Macro</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><input class="collapse-toggle" id="menuitem-1" type="checkbox"/><label class="tocitem" for="menuitem-1"><span class="docs-label">Welcome to Macro</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../">Introduction</a></li><li><a class="tocitem" href="../../table_of_contents/">Table of contents</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-2" type="checkbox"/><label class="tocitem" for="menuitem-2"><span class="docs-label">Getting Started</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Getting Started/1_overview/">Overview</a></li><li><a class="tocitem" href="../../Getting Started/2_installation/">Installation</a></li><li><a class="tocitem" href="../../Getting Started/4_macro_repo_contents/">What&#39;s Included With Macro</a></li><li><a class="tocitem" href="../../Getting Started/3_first_run/">First Run</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-3" type="checkbox"/><label class="tocitem" for="menuitem-3"><span class="docs-label">Tutorials</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Tutorials/tutorials_introduction/">Introduction</a></li><li><a class="tocitem" href="../../Tutorials/0_getting_started/">Getting Started</a></li><li><a class="tocitem" href="../../Tutorials/1_running_macro/">Running Macro</a></li><li><a class="tocitem" href="../../Tutorials/2_multisector_modelling/">Multisector Modelling</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4" type="checkbox"/><label class="tocitem" for="menuitem-4"><span class="docs-label">Guides</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Guides/guides_introduction/">Introduction</a></li><li><input class="collapse-toggle" id="menuitem-4-2" type="checkbox"/><label class="tocitem" for="menuitem-4-2"><span class="docs-label">User Guide</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Guides/User Guide/user_build_system/">Create a System</a></li><li><a class="tocitem" href="../../Guides/User Guide/user_add_commodity/">Adding Commodities</a></li><li><a class="tocitem" href="../../Guides/User Guide/user_add_node/">Adding Nodes</a></li><li><a class="tocitem" href="../../Guides/User Guide/user_add_location/">Adding Locations</a></li><li><a class="tocitem" href="../../Guides/User Guide/user_add_asset/">Adding Assets</a></li><li><a class="tocitem" href="../../Guides/User Guide/user_policy_constraints/">Adding Policy constraints</a></li><li><a class="tocitem" href="../../Guides/User Guide/user_asset_constraints/">Adding Assets constraints</a></li><li><a class="tocitem" href="../../Guides/User Guide/user_settings/">Configuring Settings</a></li><li><a class="tocitem" href="../../Guides/User Guide/user_run_model/">Running Models</a></li><li><a class="tocitem" href="../../Guides/User Guide/user_write_results/">Writing Results</a></li><li><a class="tocitem" href="../../Guides/User Guide/user_multiperiod/">Using Multi-Period Models</a></li><li><a class="tocitem" href="../../Guides/User Guide/user_using_asset_libary/">Exploring the Asset library</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-3" type="checkbox"/><label class="tocitem" for="menuitem-4-3"><span class="docs-label">Modeler Guide</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Guides/Modeler Guide/modeler_introduction/">Introduction</a></li><li><a class="tocitem" href="../../Guides/Modeler Guide/modeler_es_graph/">Energy System Graph-Based Representation</a></li><li><a class="tocitem" href="../../Guides/Modeler Guide/modeler_build_sectors/">Creating a New Sector</a></li><li><a class="tocitem" href="../../Guides/Modeler Guide/modeler_build_asset/">Creating a New Asset</a></li><li><a class="tocitem" href="../../Guides/Modeler Guide/modeler_create_example_case/">Creating a New Example Case</a></li><li><a class="tocitem" href="../../Guides/Modeler Guide/modeler_workflow/">Suggested Development Workflow</a></li><li><a class="tocitem" href="../../Guides/Modeler Guide/modeler_debugging_testing/">Debugging and Testing Tips</a></li></ul></li><li><input class="collapse-toggle" id="menuitem-4-4" type="checkbox"/><label class="tocitem" for="menuitem-4-4"><span class="docs-label">Developer Guide</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../Guides/Developer Guide/dev_create_constraint/">Creating a Constraint</a></li><li><a class="tocitem" href="../../Guides/Developer Guide/2_type_hierarchy/">Type Hierarchy</a></li></ul></li></ul></li><li><input class="collapse-toggle" id="menuitem-5" type="checkbox" checked/><label class="tocitem" for="menuitem-5"><span class="docs-label">Manual</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../manual_introduction/">Introduction</a></li><li><a class="tocitem" href="../Inputs/">Inputs</a></li><li><a class="tocitem" href="../Outputs/">Outputs</a></li><li class="is-active"><a class="tocitem" href>System</a><ul class="internal"><li><a class="tocitem" href="#Contents"><span>Contents</span></a></li><li><a class="tocitem" href="#manual-system-overview"><span>Overview</span></a></li><li><a class="tocitem" href="#System-Fields"><span>System Fields</span></a></li><li><a class="tocitem" href="#manual-system-types"><span>Types</span></a></li><li><a class="tocitem" href="#manual-system-constructors"><span>Constructors</span></a></li><li><a class="tocitem" href="#manual-system-methods"><span>Methods</span></a></li><li><a class="tocitem" href="#manual-system-examples"><span>Examples</span></a></li><li><a class="tocitem" href="#See-Also"><span>See Also</span></a></li></ul></li><li><a class="tocitem" href="../Model/">Model</a></li><li><a class="tocitem" href="../Sectors/">Sectors</a></li><li><a class="tocitem" href="../Edges/">Edges</a></li><li><a class="tocitem" href="../Nodes/">Nodes</a></li><li><a class="tocitem" href="../Storage/">Storage</a></li><li><a class="tocitem" href="../Transformations/">Transformations</a></li><li><a class="tocitem" href="../Locations/">Locations</a></li><li><a class="tocitem" href="../Constraints/">Constraints</a></li><li><a class="tocitem" href="../Commodities/">Commodities</a></li><li><a class="tocitem" href="../assets/1_introduction/">Assets</a></li><li><input class="collapse-toggle" id="menuitem-5-15" type="checkbox"/><label class="tocitem" for="menuitem-5-15"><span class="docs-label">Asset Library</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../assets/battery/">Battery</a></li><li><a class="tocitem" href="../assets/beccselectricity/">BECCS Electricity</a></li><li><a class="tocitem" href="../assets/beccshydrogen/">BECCS Hydrogen</a></li><li><a class="tocitem" href="../assets/electricdac/">Electric DAC</a></li><li><a class="tocitem" href="../assets/electrolyzer/">Electrolyzer</a></li><li><a class="tocitem" href="../assets/fuelcell/">Fuel Cell</a></li><li><a class="tocitem" href="../assets/gasstorage/">Gas Storage</a></li><li><a class="tocitem" href="../assets/hydrogenline/">Hydrogen Line</a></li><li><a class="tocitem" href="../assets/hydropower/">Hydro Reservoir</a></li><li><a class="tocitem" href="../assets/mustrun/">Must Run</a></li><li><a class="tocitem" href="../assets/natgasdaq/">Natural Gas DAC</a></li><li><a class="tocitem" href="../assets/transmissionlink/">Transmission Link</a></li><li><a class="tocitem" href="../assets/thermalhydrogen/">Thermal Hydrogen Plant (with and without CCS)</a></li><li><a class="tocitem" href="../assets/thermalpower/">Thermal Power Plant (with and without CCS)</a></li><li><a class="tocitem" href="../assets/vre/">Variable Renewable Energy resources (VRE)</a></li></ul></li><li><a class="tocitem" href="../Financial_assumptions/">Financial Assumptions</a></li><li><a class="tocitem" href="../Multi_period_accounting/">Multi-Period Accounting</a></li></ul></li><li><a class="tocitem" href="../../how_to_contribute/">How to contribute</a></li><li><input class="collapse-toggle" id="menuitem-7" type="checkbox"/><label class="tocitem" for="menuitem-7"><span class="docs-label">References</span><i class="docs-chevron"></i></label><ul class="collapsed"><li><a class="tocitem" href="../../References/1_introduction/">Introduction</a></li><li><a class="tocitem" href="../../References/2_reading_input/">Reading input data</a></li><li><a class="tocitem" href="../../References/3_macro_objects/">Macro Objects</a></li><li><a class="tocitem" href="../../References/4_writing_output/">Writing output data</a></li><li><a class="tocitem" href="../../References/5_utilities/">Utilities</a></li><li><a class="tocitem" href="../../References/ref_download_examples/">Downloading examples</a></li></ul></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Manual</a></li><li class="is-active"><a href>System</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>System</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/macroenergy/MacroEnergy.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands"></span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/macroenergy/MacroEnergy.jl/blob/main/docs/src/Manual/System.md" title="Edit source on GitHub"><span class="docs-icon fa-solid"></span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="System"><a class="docs-heading-anchor" href="#System">System</a><a id="System-1"></a><a class="docs-heading-anchor-permalink" href="#System" title="Permalink"></a></h1><h2 id="Contents"><a class="docs-heading-anchor" href="#Contents">Contents</a><a id="Contents-1"></a><a class="docs-heading-anchor-permalink" href="#Contents" title="Permalink"></a></h2><p><a href="#manual-system-overview">Overview</a> | <a href="#System-Fields">Fields</a> | <a href="#manual-system-types">Types</a> | <a href="#manual-system-constructors">Constructors</a> | <a href="#manual-system-methods">Methods</a> | <a href="#manual-system-examples">Examples</a></p><h2 id="manual-system-overview"><a class="docs-heading-anchor" href="#manual-system-overview">Overview</a><a id="manual-system-overview-1"></a><a class="docs-heading-anchor-permalink" href="#manual-system-overview" title="Permalink"></a></h2><p>The <code>System</code> type is a compound component in Macro which represents the complete description of an energy system for a single operating period. It serves as a container that aggregates all the essential elements needed to define and analyze an energy system, including settings, commodities, time data, and the network of locations and nodes.</p><h3 id="Key-Distinction:-System-vs-Model"><a class="docs-heading-anchor" href="#Key-Distinction:-System-vs-Model">Key Distinction: System vs Model</a><a id="Key-Distinction:-System-vs-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Key-Distinction:-System-vs-Model" title="Permalink"></a></h3><p>It&#39;s important to understand the distinction between a <code>System</code> and the optimization model:</p><ul><li><strong>System</strong>: Describes the physical and economic characteristics of the energy system (infrastructure, parameters, time series data, etc.)</li><li><strong>Model</strong>: The mathematical optimization formulation built from one or more Systems</li></ul><p>A <code>System</code> contains the data and structure that defines <em>what</em> the energy system looks like, while the optimization model defines <em>how</em> to solve for optimal operations, investments, or planning decisions.</p><h3 id="Role-and-Purpose"><a class="docs-heading-anchor" href="#Role-and-Purpose">Role and Purpose</a><a id="Role-and-Purpose-1"></a><a class="docs-heading-anchor-permalink" href="#Role-and-Purpose" title="Permalink"></a></h3><p>The <code>System</code> type plays several critical roles:</p><ol><li><p><strong>Data Aggregation</strong>: Consolidates all necessary data components (settings, commodities, time data, nodes, edges, storage, transformations) into a single coherent structure</p></li><li><p><strong>Single Period Representation</strong>: Represents the energy system for one specific operating period, with all associated time series data, operational parameters, and network configuration</p></li><li><p><strong>Multi-System Integration</strong>: Multiple <code>System</code> objects can be combined into a <a href="../Case/#Case"><code>Case</code></a> to represent multi-period planning problems, stochastic scenarios, or different operating conditions</p></li><li><p><strong>Model Input</strong>: Serves as the primary input for building optimization models, providing all the data needed for constraint generation and variable definition</p></li><li><p><strong>Validation and Consistency</strong>: Ensures that all components of the energy system are compatible and properly configured before model building</p></li></ol><h3 id="System-Components"><a class="docs-heading-anchor" href="#System-Components">System Components</a><a id="System-Components-1"></a><a class="docs-heading-anchor-permalink" href="#System-Components" title="Permalink"></a></h3><p>A <code>System</code> aggregates the following key components:</p><ul><li><strong>Settings</strong>: Configuration parameters that control model behavior and solution approaches</li><li><strong>Commodities</strong>: Definitions of all energy carriers, materials, and services in the system</li><li><strong>Time Data</strong>: Temporal information including time steps, periods, and associated time series data</li><li><strong>Network Elements</strong>: All physical and logical components of the energy system<ul><li><strong>Nodes</strong>: Geographic or conceptual locations where commodities are balanced</li><li><strong>Edges</strong>: Transmission and distribution infrastructure connecting nodes</li><li><strong>Storage</strong>: Energy storage technologies and facilities</li><li><strong>Transformations</strong>: Technologies that convert between different commodities</li></ul></li></ul><h3 id="Multi-Period-and-Scenario-Modeling"><a class="docs-heading-anchor" href="#Multi-Period-and-Scenario-Modeling">Multi-Period and Scenario Modeling</a><a id="Multi-Period-and-Scenario-Modeling-1"></a><a class="docs-heading-anchor-permalink" href="#Multi-Period-and-Scenario-Modeling" title="Permalink"></a></h3><p>While a single <code>System</code> represents one operating period, MacroEnergy.jl supports complex modeling scenarios through:</p><ul><li><strong>Multi-Period Cases</strong>: Multiple <code>System</code> objects representing different time periods (e.g., years in a planning horizon)</li><li><strong>Stochastic Modeling</strong>: Multiple <code>System</code> objects representing different uncertainty scenarios</li><li><strong>Operational vs Planning</strong>: Different <code>System</code> configurations for operational dispatch vs long-term capacity planning</li></ul><p>This design provides flexibility for modeling everything from single-year operational problems to multi-decade capacity expansion planning under uncertainty.</p><h3 id="Key-Concepts"><a class="docs-heading-anchor" href="#Key-Concepts">Key Concepts</a><a id="Key-Concepts-1"></a><a class="docs-heading-anchor-permalink" href="#Key-Concepts" title="Permalink"></a></h3><ul><li><strong>System vs Model</strong>: A <code>System</code> describes the physical energy infrastructure and data, while the optimization model defines the mathematical problem to be solved</li><li><strong>Single Period</strong>: Each <code>System</code> represents one operating period with its own time series, parameters, and network configuration</li><li><strong>Data Container</strong>: Systems aggregate all essential components (settings, commodities, time data, locations, assets) into a coherent structure</li><li><strong>Multi-System Cases</strong>: Multiple <code>System</code> objects can be combined to model multi-period planning, stochastic scenarios, or sensitivity analyses</li><li><strong>Network Integration</strong>: Systems contain all network elements (nodes, edges, storage, transformations) that define the energy system topology</li><li><strong>System Data</strong>: Systems are defined using the system_data.json input file</li></ul><h2 id="System-Fields"><a class="docs-heading-anchor" href="#System-Fields">System Fields</a><a id="System-Fields-1"></a><a class="docs-heading-anchor-permalink" href="#System-Fields" title="Permalink"></a></h2><p><code>Systems</code> have the following fields. When creating a model, these fields are populated through input files or programmatically constructed. The fields represent all the essential data needed to define a complete energy system for optimization.</p><div class="admonition is-info" id="Units-in-Macro-fa43ee5504ac88cc"><header class="admonition-header">Units in Macro<a class="admonition-anchor" href="#Units-in-Macro-fa43ee5504ac88cc" title="Permalink"></a></header><div class="admonition-body"><p>We have assumed that your System is using units of MWh for energy, tonnes for mass, and hour-long time steps. You can use any set of units as long as they are consistent across your operations and investment inputs.</p></div></div><h3 id="Data-Management"><a class="docs-heading-anchor" href="#Data-Management">Data Management</a><a id="Data-Management-1"></a><a class="docs-heading-anchor-permalink" href="#Data-Management" title="Permalink"></a></h3><table><tr><th style="text-align: right">Field</th><th style="text-align: right">Type</th><th style="text-align: right">Description</th><th style="text-align: right">Default</th></tr><tr><td style="text-align: right"><code>data_dirpath</code></td><td style="text-align: right">String</td><td style="text-align: right">Path to directory containing system input files</td><td style="text-align: right">-</td></tr></table><h3 id="Configuration-and-Settings"><a class="docs-heading-anchor" href="#Configuration-and-Settings">Configuration and Settings</a><a id="Configuration-and-Settings-1"></a><a class="docs-heading-anchor-permalink" href="#Configuration-and-Settings" title="Permalink"></a></h3><table><tr><th style="text-align: right">Field</th><th style="text-align: right">Type</th><th style="text-align: right">Description</th><th style="text-align: right">Default</th></tr><tr><td style="text-align: right"><code>settings</code></td><td style="text-align: right">NamedTuple</td><td style="text-align: right">Configuration parameters for model behavior</td><td style="text-align: right">NamedTuple()</td></tr><tr><td style="text-align: right"><code>commodities</code></td><td style="text-align: right">Dict{Symbol,DataType}</td><td style="text-align: right">Map of commodity symbols to their types</td><td style="text-align: right">Dict{Symbol,DataType}()</td></tr></table><h3 id="Temporal-Data"><a class="docs-heading-anchor" href="#Temporal-Data">Temporal Data</a><a id="Temporal-Data-1"></a><a class="docs-heading-anchor-permalink" href="#Temporal-Data" title="Permalink"></a></h3><table><tr><th style="text-align: right">Field</th><th style="text-align: right">Type</th><th style="text-align: right">Description</th><th style="text-align: right">Default</th></tr><tr><td style="text-align: right"><code>time_data</code></td><td style="text-align: right">Dict{Symbol,TimeData}</td><td style="text-align: right">Time series data for each commodity</td><td style="text-align: right">Dict{Symbol,TimeData}()</td></tr></table><h3 id="Network-Components"><a class="docs-heading-anchor" href="#Network-Components">Network Components</a><a id="Network-Components-1"></a><a class="docs-heading-anchor-permalink" href="#Network-Components" title="Permalink"></a></h3><table><tr><th style="text-align: right">Field</th><th style="text-align: right">Type</th><th style="text-align: right">Description</th><th style="text-align: right">Default</th></tr><tr><td style="text-align: right"><code>assets</code></td><td style="text-align: right">Vector{AbstractAsset}</td><td style="text-align: right">All assets (technologies) in the system</td><td style="text-align: right">AbstractAsset[]</td></tr><tr><td style="text-align: right"><code>locations</code></td><td style="text-align: right">Vector{Union{Node, Location}}</td><td style="text-align: right">All nodes and locations in the system</td><td style="text-align: right">Union{Node, Location}[]</td></tr></table><h2 id="manual-system-types"><a class="docs-heading-anchor" href="#manual-system-types">Types</a><a id="manual-system-types-1"></a><a class="docs-heading-anchor-permalink" href="#manual-system-types" title="Permalink"></a></h2><h3 id="Type-Hierarchy"><a class="docs-heading-anchor" href="#Type-Hierarchy">Type Hierarchy</a><a id="Type-Hierarchy-1"></a><a class="docs-heading-anchor-permalink" href="#Type-Hierarchy" title="Permalink"></a></h3><p><code>System</code> types follow a simple hierarchical structure:</p><pre><code class="language-julia hljs">AbstractSystem
└── System</code></pre><h3 id="System-Type"><a class="docs-heading-anchor" href="#System-Type">System Type</a><a id="System-Type-1"></a><a class="docs-heading-anchor-permalink" href="#System-Type" title="Permalink"></a></h3><p>The <code>System</code> type represents a complete energy system description for a single operating period. It serves as the primary container for all system data, aggregating settings, commodities, time data, and network components.</p><p>Key characteristics:</p><ul><li><strong>Single Period Representation</strong>: Each System represents one operating period with consistent temporal data</li><li><strong>Data Aggregation</strong>: Consolidates all necessary components (settings, commodities, time data, assets, locations)</li><li><strong>Input File Integration</strong>: Designed to be populated from standardized input file formats</li><li><strong>Model Building</strong>: Serves as the primary input for optimization model construction</li><li><strong>Multi-System Compatibility</strong>: Can be combined with other Systems in Case objects for multi-period modeling</li></ul><h2 id="manual-system-constructors"><a class="docs-heading-anchor" href="#manual-system-constructors">Constructors</a><a id="manual-system-constructors-1"></a><a class="docs-heading-anchor-permalink" href="#manual-system-constructors" title="Permalink"></a></h2><h3 id="Direct-Constructors"><a class="docs-heading-anchor" href="#Direct-Constructors">Direct Constructors</a><a id="Direct-Constructors-1"></a><a class="docs-heading-anchor-permalink" href="#Direct-Constructors" title="Permalink"></a></h3><pre><code class="language-julia hljs">System(data_dirpath::String, settings::NamedTuple, commodities::Dict{Symbol,DataType}, 
       time_data::Dict{Symbol,TimeData}, assets::Vector{AbstractAsset}, 
       locations::Vector{Union{Node, Location}})</code></pre><p>Direct constructor using all fields explicitly.</p><table><tr><th style="text-align: right">Parameter</th><th style="text-align: right">Type</th><th style="text-align: right">Description</th><th style="text-align: right">Required</th></tr><tr><td style="text-align: right"><code>data_dirpath</code></td><td style="text-align: right">String</td><td style="text-align: right">Path to directory containing system input files</td><td style="text-align: right">Yes</td></tr><tr><td style="text-align: right"><code>settings</code></td><td style="text-align: right">NamedTuple</td><td style="text-align: right">Configuration parameters for model behavior</td><td style="text-align: right">Yes</td></tr><tr><td style="text-align: right"><code>commodities</code></td><td style="text-align: right">Dict{Symbol,DataType}</td><td style="text-align: right">Map of commodity symbols to their types</td><td style="text-align: right">Yes</td></tr><tr><td style="text-align: right"><code>time_data</code></td><td style="text-align: right">Dict{Symbol,TimeData}</td><td style="text-align: right">Time series data for each commodity</td><td style="text-align: right">Yes</td></tr><tr><td style="text-align: right"><code>assets</code></td><td style="text-align: right">Vector{AbstractAsset}</td><td style="text-align: right">All assets in the system</td><td style="text-align: right">Yes</td></tr><tr><td style="text-align: right"><code>locations</code></td><td style="text-align: right">Vector{Union{Node, Location}}</td><td style="text-align: right">All nodes and locations in the system</td><td style="text-align: right">Yes</td></tr></table><h3 id="Factory-Constructors"><a class="docs-heading-anchor" href="#Factory-Constructors">Factory Constructors</a><a id="Factory-Constructors-1"></a><a class="docs-heading-anchor-permalink" href="#Factory-Constructors" title="Permalink"></a></h3><pre><code class="language-julia hljs">empty_system(data_dirpath::String)</code></pre><p>Creates an empty System with minimal initialization, suitable for programmatic population.</p><table><tr><th style="text-align: right">Parameter</th><th style="text-align: right">Type</th><th style="text-align: right">Description</th></tr><tr><td style="text-align: right"><code>data_dirpath</code></td><td style="text-align: right">String</td><td style="text-align: right">Path to directory for system input files</td></tr></table><pre><code class="language-julia hljs">load_system(path::AbstractString; lazy_load::Bool=true)</code></pre><p>Loads a complete System from input files in the specified directory or file path.</p><table><tr><th style="text-align: right">Parameter</th><th style="text-align: right">Type</th><th style="text-align: right">Description</th></tr><tr><td style="text-align: right"><code>path</code></td><td style="text-align: right">AbstractString</td><td style="text-align: right">Path to system directory or <code>system_data.json</code> file</td></tr><tr><td style="text-align: right"><code>lazy_load</code></td><td style="text-align: right">Bool</td><td style="text-align: right">Whether to load data lazily (default: true)</td></tr></table><h2 id="manual-system-methods"><a class="docs-heading-anchor" href="#manual-system-methods">Methods</a><a id="manual-system-methods-1"></a><a class="docs-heading-anchor-permalink" href="#manual-system-methods" title="Permalink"></a></h2><h3 id="Accessor-Methods"><a class="docs-heading-anchor" href="#Accessor-Methods">Accessor Methods</a><a id="Accessor-Methods-1"></a><a class="docs-heading-anchor-permalink" href="#Accessor-Methods" title="Permalink"></a></h3><p>Methods for accessing system data, components, and properties.</p><table><tr><th style="text-align: right">Method</th><th style="text-align: right">Description</th><th style="text-align: right">Return Type</th></tr><tr><td style="text-align: right"><code>asset_ids(system; source=&quot;assets&quot;)</code></td><td style="text-align: right">Get asset IDs from system or input files</td><td style="text-align: right"><code>Set{AssetId}</code></td></tr><tr><td style="text-align: right"><code>location_ids(system)</code></td><td style="text-align: right">Get IDs of all locations in the system</td><td style="text-align: right"><code>Vector{Symbol}</code></td></tr><tr><td style="text-align: right"><code>get_asset_types(system)</code></td><td style="text-align: right">Get types of all assets in the system</td><td style="text-align: right"><code>Vector{DataType}</code></td></tr><tr><td style="text-align: right"><code>get_asset_by_id(system, id)</code></td><td style="text-align: right">Find asset by its ID</td><td style="text-align: right"><code>Union{AbstractAsset,Nothing}</code></td></tr><tr><td style="text-align: right"><code>find_locations(system, id)</code></td><td style="text-align: right">Find location by its ID</td><td style="text-align: right"><code>Union{Node,Location,Nothing}</code></td></tr><tr><td style="text-align: right"><code>get_assets_sametype(system, asset_type)</code></td><td style="text-align: right">Get all assets of specific type</td><td style="text-align: right"><code>Vector{&lt;:AbstractAsset}</code></td></tr><tr><td style="text-align: right"><code>get_nodes(system)</code></td><td style="text-align: right">Get all nodes and locations</td><td style="text-align: right"><code>Vector{Union{Node,Location}}</code></td></tr><tr><td style="text-align: right"><code>get_edges(system; return_ids_map=false)</code></td><td style="text-align: right">Get all edges from assets</td><td style="text-align: right"><code>Vector{AbstractEdge}</code> or <code>Tuple</code></td></tr><tr><td style="text-align: right"><code>get_storage(system; return_ids_map=false)</code></td><td style="text-align: right">Get all storage components from assets</td><td style="text-align: right"><code>Vector{Storage}</code> or <code>Tuple</code></td></tr><tr><td style="text-align: right"><code>get_transformations(system; return_ids_map=false)</code></td><td style="text-align: right">Get all transformation components from assets</td><td style="text-align: right"><code>Vector{Transformation}</code> or <code>Tuple</code></td></tr><tr><td style="text-align: right"><code>edges_with_capacity_variables(system; return_ids_map=false)</code></td><td style="text-align: right">Get edges with capacity variables</td><td style="text-align: right"><code>Vector{AbstractEdge}</code> or <code>Tuple</code></td></tr><tr><td style="text-align: right"><code>find_node(nodes_list, id, commodity=missing)</code></td><td style="text-align: right">Search for node with specified ID and commodity</td><td style="text-align: right"><code>Union{Node,Nothing}</code></td></tr></table><h3 id="System-Modification-Methods"><a class="docs-heading-anchor" href="#System-Modification-Methods">System Modification Methods</a><a id="System-Modification-Methods-1"></a><a class="docs-heading-anchor-permalink" href="#System-Modification-Methods" title="Permalink"></a></h3><p>Methods for modifying system contents.</p><table><tr><th style="text-align: right">Method</th><th style="text-align: right">Description</th><th style="text-align: right">Return Type</th></tr><tr><td style="text-align: right"><code>set_data_dirpath!(system, data_dirpath)</code></td><td style="text-align: right">Set the data directory path</td><td style="text-align: right"><code>Nothing</code></td></tr><tr><td style="text-align: right"><code>add!(system, asset)</code></td><td style="text-align: right">Add an asset to the system</td><td style="text-align: right"><code>Nothing</code></td></tr><tr><td style="text-align: right"><code>add!(system, location)</code></td><td style="text-align: right">Add a location/node to the system</td><td style="text-align: right"><code>Nothing</code></td></tr></table><h3 id="Factory-Methods"><a class="docs-heading-anchor" href="#Factory-Methods">Factory Methods</a><a id="Factory-Methods-1"></a><a class="docs-heading-anchor-permalink" href="#Factory-Methods" title="Permalink"></a></h3><p>Methods for creating system instances.</p><table><tr><th style="text-align: right">Method</th><th style="text-align: right">Description</th><th style="text-align: right">Return Type</th></tr><tr><td style="text-align: right"><code>empty_system(data_dirpath)</code></td><td style="text-align: right">Create empty system with specified data path</td><td style="text-align: right"><code>System</code></td></tr><tr><td style="text-align: right"><code>load_system(path; lazy_load=true)</code></td><td style="text-align: right">Load complete system from input files</td><td style="text-align: right"><code>System</code></td></tr><tr><td style="text-align: right"><code>generate_system(system, system_data)</code></td><td style="text-align: right">Generate system from system data dictionary</td><td style="text-align: right"><code>Nothing</code></td></tr><tr><td style="text-align: right"><code>load_system_data(file_path, system)</code></td><td style="text-align: right">Load system data from input file at <code>file_path</code>, with relative paths based on <code>system.data_dirpath</code></td><td style="text-align: right"><code>Dict{Symbol,Any}</code></td></tr><tr><td style="text-align: right"><code>load!(system, file_path)</code></td><td style="text-align: right">Load system data from input file at <code>file_path</code> into <code>system</code></td><td style="text-align: right"><code>Nothing</code></td></tr><tr><td style="text-align: right"><code>load!(system, system_data::AbstractDict{Symbol,Any})</code></td><td style="text-align: right">Load system data into existing <code>system</code></td><td style="text-align: right"><code>Nothing</code></td></tr><tr><td style="text-align: right"><code>load!(system, data::AbstractVector{&lt;:AbstractDict{Symbol,Any}}))</code></td><td style="text-align: right">Load system data from a vector of dictionaries into <code>system</code></td><td style="text-align: right"><code>Nothing</code></td></tr><tr><td style="text-align: right"><code>load!(system, data::Any)</code></td><td style="text-align: right">Throws an error for badly formatted input data</td><td style="text-align: right"><code>Nothing</code></td></tr></table><h2 id="manual-system-examples"><a class="docs-heading-anchor" href="#manual-system-examples">Examples</a><a id="manual-system-examples-1"></a><a class="docs-heading-anchor-permalink" href="#manual-system-examples" title="Permalink"></a></h2><p>Most Users and Modellers will not need to create a System directly as they will be automatically created when the system data input file is loaded. The following examples show some of how Macro does these tasks. These steps could be used to create a System programmatically.</p><h3 id="Loading-and-creating-a-System"><a class="docs-heading-anchor" href="#Loading-and-creating-a-System">Loading and creating a System</a><a id="Loading-and-creating-a-System-1"></a><a class="docs-heading-anchor-permalink" href="#Loading-and-creating-a-System" title="Permalink"></a></h3><p>If we have a system data file called <code>system_data.json</code> in the current directory, we can load it into a System object as follows:</p><pre><code class="language-julia hljs">using MacroEnergy

file_path = joinpath(pwd(), &quot;system_data.json&quot;)  # Path to your system data file
system_data = load_system_data(file_path)  # Load system data from file
system = empty_system(dirname(file_path))  # Create an empty System with the data directory path
generate_system!(system, system_data)  # Populate the System with data</code></pre><p>Alternatively, we can use the <code>load_system</code> function to create a System directly from the input file:</p><pre><code class="language-julia hljs">using MacroEnergy

file_path = joinpath(pwd(), &quot;system_data.json&quot;)  # Path to your system data file
system = load_system(file_path)  # Load system directly from file</code></pre><h3 id="System-Data-File-Structure"><a class="docs-heading-anchor" href="#System-Data-File-Structure">System Data File Structure</a><a id="System-Data-File-Structure-1"></a><a class="docs-heading-anchor-permalink" href="#System-Data-File-Structure" title="Permalink"></a></h3><p><code>Systems</code> and <code>Cases</code> are typically defined in the <code>system_data.json</code> file, which contains all the necessary data to define the energy system. Full details on the structure of this file can be found in the <a href="../Inputs/#Inputs">Inputs</a> section. Here, we review the structure of the <code>system_data.json</code> file:</p><p>The following is a <code>Case</code> made up of one operating period / stochastic scenario / sensitivity case. The <code>case</code> field containts an array of <code>System</code> definitions. These definitions could directly include all of the <code>System</code> data but in this case we&#39;ve used Macro&#39;s <code>path</code> feature to refer to other JSON files. These addresses are relative to the <code>data_dirpath</code> of the <code>System</code> or the directory containing the <code>system_data.json</code> file.</p><p>The <code>settings</code> field outside of the <code>case</code> array contains the <code>Case</code> settings.</p><pre><code class="language-json hljs">{
    &quot;case&quot;: [
        {
            &quot;commodities&quot;: {
                &quot;path&quot;: &quot;system/commodities.json&quot;
            },
            &quot;locations&quot;: {
                &quot;path&quot;: &quot;system/locations.json&quot;
            },
            &quot;settings&quot;: {
                &quot;path&quot;: &quot;settings/macro_settings.json&quot;
            },
            &quot;assets&quot;: {
                &quot;path&quot;: &quot;assets&quot;
            },
            &quot;time_data&quot;: {
                &quot;path&quot;: &quot;system/time_data.json&quot;
            },
            &quot;nodes&quot;: {
                &quot;path&quot;: &quot;system/nodes.json&quot;
            }
        }
    ],
    &quot;settings&quot;: {
        &quot;path&quot;: &quot;settings/case_settings.json&quot;
    }
}</code></pre><h2 id="See-Also"><a class="docs-heading-anchor" href="#See-Also">See Also</a><a id="See-Also-1"></a><a class="docs-heading-anchor-permalink" href="#See-Also" title="Permalink"></a></h2><ul><li><a href="../Case/#Case">Case</a> - Container for multiple Systems representing different scenarios or periods</li><li><a href="../Edges/#Edges">Edges</a> - Components that connect Vertices and carry flows</li><li><a href="../Nodes/#Nodes">Nodes</a> - Network nodes that allow for import and export of commodities</li><li><a href="../../References/3_macro_objects/#MacroEnergy.Storage">Storage</a> - Components that store commodities for later use</li><li><a href="../Transformations/#Transformations">Transformations</a> - Components that convert commodities from one type to another</li><li><a href="../Commodities/#Commodities">Commodities</a> - Types of resources stored by Commodities</li><li><a href="../TimeData/#Time-Data">Time Data</a> - Temporal modeling framework</li><li><a href="../../Guides/User Guide/user_settings/#Configuring-Settings">Settings</a> - Configuration parameters for model behavior</li><li><a href="../Inputs/#Inputs">Inputs</a> - Input file formats and data structures</li></ul><script type="module">import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@11/dist/mermaid.esm.min.mjs';
mermaid.initialize({
    startOnLoad: true,
    theme: "neutral"
});
</script></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../Outputs/">« Outputs</a><a class="docs-footer-nextpage" href="../Model/">Model »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Monday 21 July 2025 09:22">Monday 21 July 2025</span>. Using Julia version 1.11.6.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
